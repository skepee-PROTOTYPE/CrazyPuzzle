"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deleteNote = void 0;
const logger_1 = require("../logger");
const error_1 = require("../error");
const utils_1 = require("./utils");
async function deleteNote(appId, issueId, noteId) {
    const requestProjectNumber = (0, utils_1.parseProjectNumber)(appId);
    logger_1.logger.debug(`[mcp][crashlytics] deleteNote called with appId: ${appId}, issueId: ${issueId}, noteId: ${noteId}`);
    try {
        await utils_1.CRASHLYTICS_API_CLIENT.request({
            method: "DELETE",
            path: `/projects/${requestProjectNumber}/apps/${appId}/issues/${issueId}/notes/${noteId}`,
            timeout: utils_1.TIMEOUT,
        });
        return `Successfully deleted note ${noteId} from issue ${issueId}.`;
    }
    catch (err) {
        logger_1.logger.debug(err.message);
        throw new error_1.FirebaseError(`Failed to delete note ${noteId} from issue ${issueId} for app ${appId}. Error: ${err}.`, { original: err });
    }
}
exports.deleteNote = deleteNote;
