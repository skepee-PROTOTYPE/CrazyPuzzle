{"ast":null,"code":"import React,{useEffect,useState}from'react';import{auth}from'./firebase';import{onAuthStateChanged,signInWithPopup,signInWithRedirect,getRedirectResult,GoogleAuthProvider,signOut,setPersistence,browserLocalPersistence}from'firebase/auth';import PuzzleBoard from'./PuzzleBoard';import Leaderboard from'./Leaderboard';import AdBanner from'./AdBanner';import MultiplayerLobby from'./MultiplayerLobby';import MultiplayerGame from'./MultiplayerGame';import styles from'./App.module.scss';// Version: 1.0.1 - Fixed mobile sign-in\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[difficulty,setDifficulty]=useState('easy');const[layout,setLayout]=useState('grid');const[score,setScore]=useState(0);const[timer,setTimer]=useState(0);const[gameMode,setGameMode]=useState('menu');const[currentRoomId,setCurrentRoomId]=useState(null);const[authLoading,setAuthLoading]=useState(true);useEffect(()=>{// Set auth persistence first\nsetPersistence(auth,browserLocalPersistence).then(()=>{console.log('Auth persistence set to LOCAL');// Check for redirect result FIRST before setting up listener\nreturn getRedirectResult(auth);}).then(result=>{if(result!==null&&result!==void 0&&result.user){console.log('‚úÖ Redirect sign-in successful:',result.user.displayName);setUser(result.user);}else{console.log('No redirect result');}}).catch(error=>{console.error('‚ùå Error in auth setup:',error);if(error.code!=='auth/popup-closed-by-user'){alert(\"Sign in error: \".concat(error.message));}}).finally(()=>{setAuthLoading(false);});// Set up auth state listener\nconst unsubscribe=onAuthStateChanged(auth,currentUser=>{console.log('Auth state changed:',(currentUser===null||currentUser===void 0?void 0:currentUser.displayName)||'No user');setUser(currentUser);setAuthLoading(false);});return()=>{if(typeof unsubscribe==='function'){unsubscribe();}};},[]);const signInWithGoogle=async()=>{const provider=new GoogleAuthProvider();// Force account selection\nprovider.setCustomParameters({prompt:'select_account'});try{// Detect if mobile device\nconst isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);console.log('üîê Sign in initiated, isMobile:',isMobile);// Set persistence before sign-in\nawait setPersistence(auth,browserLocalPersistence);if(isMobile){// Use redirect for mobile devices (works better on iOS)\nconsole.log('üì± Using signInWithRedirect for mobile');await signInWithRedirect(auth,provider);}else{// Use popup for desktop\nconsole.log('üíª Using signInWithPopup for desktop');await signInWithPopup(auth,provider);}}catch(error){console.error('‚ùå Error signing in with Google:',error);alert(\"Sign in failed: \".concat(error.message||'Please try again'));}};const handleSignOut=async()=>{try{await signOut(auth);}catch(error){console.error('Error signing out:',error);}};const handleScoreUpdate=(newScore,newTimer)=>{setScore(newScore);setTimer(newTimer);};const handleJoinRoom=(roomId,roomDifficulty)=>{setCurrentRoomId(roomId);setDifficulty(roomDifficulty);setGameMode('multiplayer-game');};const handleLeaveRoom=()=>{setCurrentRoomId(null);setGameMode('multiplayer-lobby');};// Menu view\nif(gameMode==='menu'){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.menuContainer,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.mainTitle,children:\"\\uD83E\\uDDE9 CrazyPuzzle\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.subtitle,children:\"Test your memory and compete with friends!\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.authSection,children:user?/*#__PURE__*/_jsxs(\"div\",{className:styles.userWelcome,children:[/*#__PURE__*/_jsx(\"img\",{src:user.photoURL||'',alt:\"Avatar\",className:styles.userAvatar}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user.displayName,\"!\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:styles.signOutBtn,children:\"Sign Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:styles.guestInfo,children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83C\\uDFAE Play as guest or sign in for more features\"}),/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,className:styles.signInBtn,children:\"Sign in with Google\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.modeSelection,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setGameMode('singleplayer'),className:styles.modeBtn,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.modeIcon,children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeTitle,children:\"Single Player\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeDesc,children:\"Play solo and beat your best time\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{if(!user){alert('Please sign in to play multiplayer!');return;}setGameMode('multiplayer-lobby');},className:styles.modeBtn,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.modeIcon,children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeTitle,children:\"Multiplayer\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeDesc,children:\"Compete with friends in real-time\"}),!user&&/*#__PURE__*/_jsx(\"span\",{className:styles.requiresAuth,children:\"Requires sign in\"})]})]})]})});}// Multiplayer lobby\nif(gameMode==='multiplayer-lobby'&&user){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsx(MultiplayerLobby,{user:user,onJoinRoom:handleJoinRoom,onBackToSinglePlayer:()=>setGameMode('menu')})});}// Multiplayer game\nif(gameMode==='multiplayer-game'&&user&&currentRoomId){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsx(MultiplayerGame,{roomId:currentRoomId,user:user,difficulty:difficulty,onLeaveRoom:handleLeaveRoom})});}// Single player mode\nreturn/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.appHeaderContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.headerRow,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.appTitle,children:\"\\uD83E\\uDDE9 CrazyPuzzle\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setGameMode('menu'),className:styles.menuBtn,children:\"\\u2190 Back to Menu\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.controlsRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.cardTitle,children:\"Game Settings\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Difficulty:\"}),/*#__PURE__*/_jsxs(\"select\",{value:difficulty,onChange:e=>setDifficulty(e.target.value),className:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"easy\",children:\"Easy (4x4)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium (6x6)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hard\",children:\"Hard (8x8)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Layout:\"}),/*#__PURE__*/_jsxs(\"select\",{value:layout,onChange:e=>setLayout(e.target.value),className:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"grid\",children:\"Grid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"circle\",children:\"Circle\"}),/*#__PURE__*/_jsx(\"option\",{value:\"diamond\",children:\"Diamond\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.card,\" \").concat(styles.optionalCard),children:[/*#__PURE__*/_jsxs(\"h3\",{className:styles.cardTitle,children:[user?'Player Account':'Save Your Progress',/*#__PURE__*/_jsx(\"span\",{className:styles.optionalBadge,children:\"Optional\"})]}),user?/*#__PURE__*/_jsxs(\"div\",{className:styles.userInfo,children:[/*#__PURE__*/_jsx(\"img\",{src:user.photoURL||'',alt:\"Avatar\",className:styles.userAvatar}),/*#__PURE__*/_jsx(\"span\",{className:styles.userName,children:user.displayName}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"\".concat(styles.btn,\" \").concat(styles.logoutBtn),children:\"Sign Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:styles.guestModeText,children:[\"\\uD83C\\uDFAE You can play as a guest!\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"Sign in to save your high scores\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,className:\"\".concat(styles.btn,\" \").concat(styles.signInBtn),children:\"Sign in with Google\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreBox,children:[\"Score: \",score]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreBox,children:[\"Time: \",timer,\"s\"]}),!user&&/*#__PURE__*/_jsx(\"div\",{className:styles.scoreBox,style:{background:'#fff3cd',color:'#856404'},children:\"Guest Mode - Sign in to save scores\"})]}),/*#__PURE__*/_jsx(AdBanner,{}),/*#__PURE__*/_jsx(PuzzleBoard,{difficulty:difficulty,layout:layout,user:user,onScore:handleScoreUpdate}),/*#__PURE__*/_jsx(Leaderboard,{difficulty:difficulty,layout:layout,score:score,timer:timer})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","auth","onAuthStateChanged","signInWithPopup","signInWithRedirect","getRedirectResult","GoogleAuthProvider","signOut","setPersistence","browserLocalPersistence","PuzzleBoard","Leaderboard","AdBanner","MultiplayerLobby","MultiplayerGame","styles","jsx","_jsx","jsxs","_jsxs","App","user","setUser","difficulty","setDifficulty","layout","setLayout","score","setScore","timer","setTimer","gameMode","setGameMode","currentRoomId","setCurrentRoomId","authLoading","setAuthLoading","then","console","log","result","displayName","catch","error","code","alert","concat","message","finally","unsubscribe","currentUser","signInWithGoogle","provider","setCustomParameters","prompt","isMobile","test","navigator","userAgent","handleSignOut","handleScoreUpdate","newScore","newTimer","handleJoinRoom","roomId","roomDifficulty","handleLeaveRoom","className","appBg","children","menuContainer","mainTitle","subtitle","authSection","userWelcome","src","photoURL","alt","userAvatar","onClick","signOutBtn","guestInfo","signInBtn","modeSelection","modeBtn","modeIcon","modeTitle","modeDesc","requiresAuth","onJoinRoom","onBackToSinglePlayer","onLeaveRoom","appHeaderContainer","headerRow","appTitle","menuBtn","controlsRow","card","cardTitle","style","marginBottom","value","onChange","e","target","select","optionalCard","optionalBadge","userInfo","userName","btn","logoutBtn","guestModeText","scoreRow","scoreBox","background","color","onScore"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { User } from 'firebase/auth';\nimport { auth } from './firebase';\nimport { onAuthStateChanged, signInWithPopup, signInWithRedirect, getRedirectResult, GoogleAuthProvider, signOut, setPersistence, browserLocalPersistence } from 'firebase/auth';\nimport PuzzleBoard from './PuzzleBoard';\nimport Leaderboard from './Leaderboard';\nimport AdBanner from './AdBanner';\nimport MultiplayerLobby from './MultiplayerLobby';\nimport MultiplayerGame from './MultiplayerGame';\nimport styles from './App.module.scss';\n\n// Version: 1.0.1 - Fixed mobile sign-in\n\ntype GameMode = 'menu' | 'singleplayer' | 'multiplayer-lobby' | 'multiplayer-game';\n\nfunction App() {\n  const [user, setUser] = useState<User | null>(null);\n  const [difficulty, setDifficulty] = useState<'easy' | 'medium' | 'hard'>('easy');\n  const [layout, setLayout] = useState<string>('grid');\n  const [score, setScore] = useState(0);\n  const [timer, setTimer] = useState(0);\n  const [gameMode, setGameMode] = useState<GameMode>('menu');\n  const [currentRoomId, setCurrentRoomId] = useState<string | null>(null);\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    // Set auth persistence first\n    setPersistence(auth, browserLocalPersistence)\n      .then(() => {\n        console.log('Auth persistence set to LOCAL');\n        // Check for redirect result FIRST before setting up listener\n        return getRedirectResult(auth);\n      })\n      .then((result) => {\n        if (result?.user) {\n          console.log('‚úÖ Redirect sign-in successful:', result.user.displayName);\n          setUser(result.user);\n        } else {\n          console.log('No redirect result');\n        }\n      })\n      .catch((error) => {\n        console.error('‚ùå Error in auth setup:', error);\n        if (error.code !== 'auth/popup-closed-by-user') {\n          alert(`Sign in error: ${error.message}`);\n        }\n      })\n      .finally(() => {\n        setAuthLoading(false);\n      });\n\n    // Set up auth state listener\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      console.log('Auth state changed:', currentUser?.displayName || 'No user');\n      setUser(currentUser);\n      setAuthLoading(false);\n    });\n\n    return () => {\n      if (typeof unsubscribe === 'function') {\n        unsubscribe();\n      }\n    };\n  }, []);\n\n  const signInWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    // Force account selection\n    provider.setCustomParameters({\n      prompt: 'select_account'\n    });\n    \n    try {\n      // Detect if mobile device\n      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n      \n      console.log('üîê Sign in initiated, isMobile:', isMobile);\n      \n      // Set persistence before sign-in\n      await setPersistence(auth, browserLocalPersistence);\n      \n      if (isMobile) {\n        // Use redirect for mobile devices (works better on iOS)\n        console.log('üì± Using signInWithRedirect for mobile');\n        await signInWithRedirect(auth, provider);\n      } else {\n        // Use popup for desktop\n        console.log('üíª Using signInWithPopup for desktop');\n        await signInWithPopup(auth, provider);\n      }\n    } catch (error: any) {\n      console.error('‚ùå Error signing in with Google:', error);\n      alert(`Sign in failed: ${error.message || 'Please try again'}`);\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await signOut(auth);\n    } catch (error) {\n      console.error('Error signing out:', error);\n    }\n  };\n\n  const handleScoreUpdate = (newScore: number, newTimer: number) => {\n    setScore(newScore);\n    setTimer(newTimer);\n  };\n\n  const handleJoinRoom = (roomId: string, roomDifficulty: 'easy' | 'medium' | 'hard') => {\n    setCurrentRoomId(roomId);\n    setDifficulty(roomDifficulty);\n    setGameMode('multiplayer-game');\n  };\n\n  const handleLeaveRoom = () => {\n    setCurrentRoomId(null);\n    setGameMode('multiplayer-lobby');\n  };\n\n  // Menu view\n  if (gameMode === 'menu') {\n    return (\n      <div className={styles.appBg}>\n        <div className={styles.menuContainer}>\n          <h1 className={styles.mainTitle}>üß© CrazyPuzzle</h1>\n          <p className={styles.subtitle}>Test your memory and compete with friends!</p>\n          \n          <div className={styles.authSection}>\n            {user ? (\n              <div className={styles.userWelcome}>\n                <img src={user.photoURL || ''} alt=\"Avatar\" className={styles.userAvatar} />\n                <span>Welcome, {user.displayName}!</span>\n                <button onClick={handleSignOut} className={styles.signOutBtn}>Sign Out</button>\n              </div>\n            ) : (\n              <div className={styles.guestInfo}>\n                <p>üéÆ Play as guest or sign in for more features</p>\n                <button onClick={signInWithGoogle} className={styles.signInBtn}>\n                  Sign in with Google\n                </button>\n              </div>\n            )}\n          </div>\n\n          <div className={styles.modeSelection}>\n            <button \n              onClick={() => setGameMode('singleplayer')} \n              className={styles.modeBtn}\n            >\n              <span className={styles.modeIcon}>üéØ</span>\n              <span className={styles.modeTitle}>Single Player</span>\n              <span className={styles.modeDesc}>Play solo and beat your best time</span>\n            </button>\n\n            <button \n              onClick={() => {\n                if (!user) {\n                  alert('Please sign in to play multiplayer!');\n                  return;\n                }\n                setGameMode('multiplayer-lobby');\n              }} \n              className={styles.modeBtn}\n            >\n              <span className={styles.modeIcon}>üë•</span>\n              <span className={styles.modeTitle}>Multiplayer</span>\n              <span className={styles.modeDesc}>Compete with friends in real-time</span>\n              {!user && <span className={styles.requiresAuth}>Requires sign in</span>}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Multiplayer lobby\n  if (gameMode === 'multiplayer-lobby' && user) {\n    return (\n      <div className={styles.appBg}>\n        <MultiplayerLobby \n          user={user}\n          onJoinRoom={handleJoinRoom}\n          onBackToSinglePlayer={() => setGameMode('menu')}\n        />\n      </div>\n    );\n  }\n\n  // Multiplayer game\n  if (gameMode === 'multiplayer-game' && user && currentRoomId) {\n    return (\n      <div className={styles.appBg}>\n        <MultiplayerGame \n          roomId={currentRoomId}\n          user={user}\n          difficulty={difficulty}\n          onLeaveRoom={handleLeaveRoom}\n        />\n      </div>\n    );\n  }\n\n  // Single player mode\n  return (\n    <div className={styles.appBg}>\n      <div className={styles.appHeaderContainer}>\n        <div className={styles.headerRow}>\n          <h1 className={styles.appTitle}>üß© CrazyPuzzle</h1>\n          <button onClick={() => setGameMode('menu')} className={styles.menuBtn}>\n            ‚Üê Back to Menu\n          </button>\n        </div>\n        \n        <div className={styles.controlsRow}>\n          {/* Move authentication to a smaller, optional section */}\n          <div className={styles.card}>\n            <h3 className={styles.cardTitle}>Game Settings</h3>\n            <div style={{ marginBottom: '15px' }}>\n              <label>Difficulty:</label>\n              <select \n                value={difficulty} \n                onChange={(e) => setDifficulty(e.target.value as 'easy' | 'medium' | 'hard')}\n                className={styles.select}\n              >\n                <option value=\"easy\">Easy (4x4)</option>\n                <option value=\"medium\">Medium (6x6)</option>\n                <option value=\"hard\">Hard (8x8)</option>\n              </select>\n            </div>\n            <div>\n              <label>Layout:</label>\n              <select \n                value={layout} \n                onChange={(e) => setLayout(e.target.value)}\n                className={styles.select}\n              >\n                <option value=\"grid\">Grid</option>\n                <option value=\"circle\">Circle</option>\n                <option value=\"diamond\">Diamond</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Optional login section - smaller and less prominent */}\n          <div className={`${styles.card} ${styles.optionalCard}`}>\n            <h3 className={styles.cardTitle}>\n              {user ? 'Player Account' : 'Save Your Progress'} \n              <span className={styles.optionalBadge}>Optional</span>\n            </h3>\n            {user ? (\n              <div className={styles.userInfo}>\n                <img src={user.photoURL || ''} alt=\"Avatar\" className={styles.userAvatar} />\n                <span className={styles.userName}>{user.displayName}</span>\n                <button onClick={handleSignOut} className={`${styles.btn} ${styles.logoutBtn}`}>\n                  Sign Out\n                </button>\n              </div>\n            ) : (\n              <div>\n                <p className={styles.guestModeText}>\n                  üéÆ You can play as a guest! \n                  <br />\n                  <small>Sign in to save your high scores</small>\n                </p>\n                <button onClick={signInWithGoogle} className={`${styles.btn} ${styles.signInBtn}`}>\n                  Sign in with Google\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className={styles.scoreRow}>\n          <div className={styles.scoreBox}>Score: {score}</div>\n          <div className={styles.scoreBox}>Time: {timer}s</div>\n          {!user && (\n            <div className={styles.scoreBox} style={{ background: '#fff3cd', color: '#856404' }}>\n              Guest Mode - Sign in to save scores\n            </div>\n          )}\n        </div>\n\n        <AdBanner />\n\n        <PuzzleBoard \n          difficulty={difficulty} \n          layout={layout} \n          user={user}\n          onScore={handleScoreUpdate}\n        />\n\n        <Leaderboard difficulty={difficulty} layout={layout} score={score} timer={timer} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}