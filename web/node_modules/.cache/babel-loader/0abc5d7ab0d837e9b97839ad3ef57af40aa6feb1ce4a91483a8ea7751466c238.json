{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{db}from'./firebase';import{collection,addDoc}from'firebase/firestore';import styles from'./PuzzleBoard.module.scss';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function PuzzleBoard(_ref){let{difficulty,layout,user,onScore,onComplete}=_ref;const gridSizes={easy:4,medium:6,hard:8};const gridSize=gridSizes[difficulty]||4;const totalTiles=gridSize*gridSize;const[tiles,setTiles]=useState([]);const[flippedTiles,setFlippedTiles]=useState([]);const[matchedTiles,setMatchedTiles]=useState([]);const[moves,setMoves]=useState(0);const[timer,setTimer]=useState(0);const[gameStarted,setGameStarted]=useState(false);const[gameCompleted,setGameCompleted]=useState(false);// Check if current layout is implemented\nconst isLayoutImplemented=layout==='grid';// Initialize game\nuseEffect(()=>{if(!isLayoutImplemented)return;const numbers=Array.from({length:totalTiles/2},(_,i)=>i+1);const shuffledTiles=[...numbers,...numbers].sort(()=>Math.random()-0.5);setTiles(shuffledTiles);setFlippedTiles([]);setMatchedTiles([]);setMoves(0);setTimer(0);setGameStarted(false);setGameCompleted(false);},[difficulty,layout,totalTiles,isLayoutImplemented]);// Timer effect\nuseEffect(()=>{if(gameStarted&&!gameCompleted&&isLayoutImplemented){const interval=setInterval(()=>setTimer(prev=>prev+1),1000);return()=>clearInterval(interval);}},[gameStarted,gameCompleted,isLayoutImplemented]);// Check for matches\nuseEffect(()=>{if(!isLayoutImplemented)return;if(flippedTiles.length===2){const[first,second]=flippedTiles;if(tiles[first]===tiles[second]){setMatchedTiles(prev=>[...prev,first,second]);setFlippedTiles([]);}else{setTimeout(()=>setFlippedTiles([]),1000);}}},[flippedTiles,tiles,isLayoutImplemented]);const saveScore=useCallback(async(score,time)=>{if(!user)return;try{await addDoc(collection(db,'scores'),{userId:user.uid,userName:user.displayName||'Anonymous',score,time,difficulty,layout,createdAt:new Date()});}catch(error){console.error('Error saving score:',error);}},[user,difficulty,layout]);// Check game completion\nuseEffect(()=>{if(!isLayoutImplemented)return;if(matchedTiles.length===totalTiles&&totalTiles>0){setGameCompleted(true);const score=Math.max(1000-moves*10-timer,100);if(user&&onScore){onScore(score,timer);saveScore(score,timer);}if(onComplete){onComplete();}}},[matchedTiles.length,totalTiles,moves,timer,user,onScore,onComplete,saveScore,isLayoutImplemented]);const handleTileClick=index=>{if(!isLayoutImplemented)return;if(!gameStarted)setGameStarted(true);if(flippedTiles.length===2||flippedTiles.includes(index)||matchedTiles.includes(index)){return;}setFlippedTiles(prev=>[...prev,index]);setMoves(prev=>prev+1);};const resetGame=()=>{if(!isLayoutImplemented)return;const numbers=Array.from({length:totalTiles/2},(_,i)=>i+1);const shuffledTiles=[...numbers,...numbers].sort(()=>Math.random()-0.5);setTiles(shuffledTiles);setFlippedTiles([]);setMatchedTiles([]);setMoves(0);setTimer(0);setGameStarted(false);setGameCompleted(false);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.boardCard,children:[/*#__PURE__*/_jsxs(\"h3\",{className:styles.boardTitle,children:[\"Puzzle Board - \",difficulty.charAt(0).toUpperCase()+difficulty.slice(1),\" (\",gridSize,\"x\",gridSize,\") - \",layout.charAt(0).toUpperCase()+layout.slice(1),\" Layout\"]}),!isLayoutImplemented?/*#__PURE__*/// Show \"Coming Soon\" message for unimplemented layouts\n_jsxs(\"div\",{className:styles.comingSoon,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.comingSoonIcon,children:\"\\uD83D\\uDEA7\"}),/*#__PURE__*/_jsx(\"h4\",{className:styles.comingSoonTitle,children:\"Coming Soon!\"}),/*#__PURE__*/_jsxs(\"p\",{className:styles.comingSoonText,children:[\"The \",/*#__PURE__*/_jsx(\"strong\",{children:layout.charAt(0).toUpperCase()+layout.slice(1)}),\" layout is under development.\"]}),/*#__PURE__*/_jsxs(\"p\",{className:styles.comingSoonSubtext,children:[\"Please select \",/*#__PURE__*/_jsx(\"strong\",{children:\"Grid\"}),\" layout to play the game.\"]})]}):/*#__PURE__*/// Show the actual game for implemented layouts (grid)\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{'--grid-size':gridSize},className:styles.puzzleGrid,children:tiles.map((number,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.tile,\" \").concat(flippedTiles.includes(index)||matchedTiles.includes(index)?styles.flipped:'',\" \").concat(matchedTiles.includes(index)?styles.matched:''),onClick:()=>handleTileClick(index),children:/*#__PURE__*/_jsxs(\"div\",{className:styles.tileInner,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.tileFront}),/*#__PURE__*/_jsx(\"div\",{className:styles.tileBack,children:number})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Moves: \",moves,\" | Time: \",timer,\"s\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetGame,className:styles.btn,children:\"New Game\"})]}),gameCompleted&&/*#__PURE__*/_jsxs(\"div\",{className:styles.congratsMsg,children:[\"\\uD83C\\uDF89 Congratulations! You completed the puzzle in \",moves,\" moves and \",timer,\" seconds!\",user?/*#__PURE__*/_jsxs(\"p\",{children:[\"Score: \",Math.max(1000-moves*10-timer,100),\" (Saved to leaderboard!)\"]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Score: \",Math.max(1000-moves*10-timer,100)]}),/*#__PURE__*/_jsx(\"p\",{className:styles.guestHint,children:\"\\uD83D\\uDCA1 Sign in with Google to save your high scores to the leaderboard!\"})]})]})]})]});}export default PuzzleBoard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","db","collection","addDoc","styles","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","PuzzleBoard","_ref","difficulty","layout","user","onScore","onComplete","gridSizes","easy","medium","hard","gridSize","totalTiles","tiles","setTiles","flippedTiles","setFlippedTiles","matchedTiles","setMatchedTiles","moves","setMoves","timer","setTimer","gameStarted","setGameStarted","gameCompleted","setGameCompleted","isLayoutImplemented","numbers","Array","from","length","_","i","shuffledTiles","sort","Math","random","interval","setInterval","prev","clearInterval","first","second","setTimeout","saveScore","score","time","userId","uid","userName","displayName","createdAt","Date","error","console","max","handleTileClick","index","includes","resetGame","className","boardCard","children","boardTitle","charAt","toUpperCase","slice","comingSoon","comingSoonIcon","comingSoonTitle","comingSoonText","comingSoonSubtext","style","puzzleGrid","map","number","concat","tile","flipped","matched","onClick","tileInner","tileFront","tileBack","textAlign","marginTop","btn","congratsMsg","guestHint"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/PuzzleBoard.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { User } from 'firebase/auth';\r\nimport { db } from './firebase';\r\nimport { collection, addDoc } from 'firebase/firestore';\r\nimport styles from './PuzzleBoard.module.scss';\r\n\r\ninterface PuzzleBoardProps {\r\n  difficulty: 'easy' | 'medium' | 'hard' | string;\r\n  layout: string;\r\n  user?: User | null;\r\n  onScore?: (score: number, timer: number) => void;\r\n  onComplete?: () => void;\r\n}\r\n\r\nfunction PuzzleBoard({ difficulty, layout, user, onScore, onComplete }: PuzzleBoardProps) {\r\n  const gridSizes: Record<'easy' | 'medium' | 'hard', number> = { easy: 4, medium: 6, hard: 8 };\r\n  const gridSize = gridSizes[difficulty as 'easy' | 'medium' | 'hard'] || 4;\r\n  const totalTiles = gridSize * gridSize;\r\n  \r\n  const [tiles, setTiles] = useState<number[]>([]);\r\n  const [flippedTiles, setFlippedTiles] = useState<number[]>([]);\r\n  const [matchedTiles, setMatchedTiles] = useState<number[]>([]);\r\n  const [moves, setMoves] = useState(0);\r\n  const [timer, setTimer] = useState(0);\r\n  const [gameStarted, setGameStarted] = useState(false);\r\n  const [gameCompleted, setGameCompleted] = useState(false);\r\n\r\n  // Check if current layout is implemented\r\n  const isLayoutImplemented = layout === 'grid';\r\n\r\n  // Initialize game\r\n  useEffect(() => {\r\n    if (!isLayoutImplemented) return;\r\n    \r\n    const numbers = Array.from({ length: totalTiles / 2 }, (_, i) => i + 1);\r\n    const shuffledTiles = [...numbers, ...numbers].sort(() => Math.random() - 0.5);\r\n    setTiles(shuffledTiles);\r\n    setFlippedTiles([]);\r\n    setMatchedTiles([]);\r\n    setMoves(0);\r\n    setTimer(0);\r\n    setGameStarted(false);\r\n    setGameCompleted(false);\r\n  }, [difficulty, layout, totalTiles, isLayoutImplemented]);\r\n\r\n  // Timer effect\r\n  useEffect(() => {\r\n    if (gameStarted && !gameCompleted && isLayoutImplemented) {\r\n      const interval = setInterval(() => setTimer(prev => prev + 1), 1000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [gameStarted, gameCompleted, isLayoutImplemented]);\r\n\r\n  // Check for matches\r\n  useEffect(() => {\r\n    if (!isLayoutImplemented) return;\r\n    \r\n    if (flippedTiles.length === 2) {\r\n      const [first, second] = flippedTiles;\r\n      if (tiles[first] === tiles[second]) {\r\n        setMatchedTiles(prev => [...prev, first, second]);\r\n        setFlippedTiles([]);\r\n      } else {\r\n        setTimeout(() => setFlippedTiles([]), 1000);\r\n      }\r\n    }\r\n  }, [flippedTiles, tiles, isLayoutImplemented]);\r\n\r\n  const saveScore = useCallback(async (score: number, time: number) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      await addDoc(collection(db, 'scores'), {\r\n        userId: user.uid,\r\n        userName: user.displayName || 'Anonymous',\r\n        score,\r\n        time,\r\n        difficulty,\r\n        layout,\r\n        createdAt: new Date()\r\n      });\r\n    } catch (error) {\r\n      console.error('Error saving score:', error);\r\n    }\r\n  }, [user, difficulty, layout]);\r\n\r\n  // Check game completion\r\n  useEffect(() => {\r\n    if (!isLayoutImplemented) return;\r\n    \r\n    if (matchedTiles.length === totalTiles && totalTiles > 0) {\r\n      setGameCompleted(true);\r\n      const score = Math.max(1000 - moves * 10 - timer, 100);\r\n      \r\n      if (user && onScore) {\r\n        onScore(score, timer);\r\n        saveScore(score, timer);\r\n      }\r\n      \r\n      if (onComplete) {\r\n        onComplete();\r\n      }\r\n    }\r\n  }, [matchedTiles.length, totalTiles, moves, timer, user, onScore, onComplete, saveScore, isLayoutImplemented]);\r\n\r\n  const handleTileClick = (index: number) => {\r\n    if (!isLayoutImplemented) return;\r\n    \r\n    if (!gameStarted) setGameStarted(true);\r\n    \r\n    if (flippedTiles.length === 2 || flippedTiles.includes(index) || matchedTiles.includes(index)) {\r\n      return;\r\n    }\r\n\r\n    setFlippedTiles(prev => [...prev, index]);\r\n    setMoves(prev => prev + 1);\r\n  };\r\n\r\n  const resetGame = () => {\r\n    if (!isLayoutImplemented) return;\r\n    \r\n    const numbers = Array.from({ length: totalTiles / 2 }, (_, i) => i + 1);\r\n    const shuffledTiles = [...numbers, ...numbers].sort(() => Math.random() - 0.5);\r\n    setTiles(shuffledTiles);\r\n    setFlippedTiles([]);\r\n    setMatchedTiles([]);\r\n    setMoves(0);\r\n    setTimer(0);\r\n    setGameStarted(false);\r\n    setGameCompleted(false);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.boardCard}>\r\n      <h3 className={styles.boardTitle}>\r\n        Puzzle Board - {difficulty.charAt(0).toUpperCase() + difficulty.slice(1)} ({gridSize}x{gridSize}) - {layout.charAt(0).toUpperCase() + layout.slice(1)} Layout\r\n      </h3>\r\n      \r\n      {!isLayoutImplemented ? (\r\n        // Show \"Coming Soon\" message for unimplemented layouts\r\n        <div className={styles.comingSoon}>\r\n          <div className={styles.comingSoonIcon}>🚧</div>\r\n          <h4 className={styles.comingSoonTitle}>Coming Soon!</h4>\r\n          <p className={styles.comingSoonText}>\r\n            The <strong>{layout.charAt(0).toUpperCase() + layout.slice(1)}</strong> layout is under development.\r\n          </p>\r\n          <p className={styles.comingSoonSubtext}>\r\n            Please select <strong>Grid</strong> layout to play the game.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        // Show the actual game for implemented layouts (grid)\r\n        <>\r\n          <div style={{ '--grid-size': gridSize } as React.CSSProperties} className={styles.puzzleGrid}>\r\n            {tiles.map((number, index) => (\r\n              <div\r\n                key={index}\r\n                className={`${styles.tile} ${flippedTiles.includes(index) || matchedTiles.includes(index) ? styles.flipped : ''} ${matchedTiles.includes(index) ? styles.matched : ''}`}\r\n                onClick={() => handleTileClick(index)}\r\n              >\r\n                <div className={styles.tileInner}>\r\n                  <div className={styles.tileFront}></div>\r\n                  <div className={styles.tileBack}>{number}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', marginTop: '20px' }}>\r\n            <p>Moves: {moves} | Time: {timer}s</p>\r\n            <button onClick={resetGame} className={styles.btn}>New Game</button>\r\n          </div>\r\n\r\n          {gameCompleted && (\r\n            <div className={styles.congratsMsg}>\r\n              🎉 Congratulations! You completed the puzzle in {moves} moves and {timer} seconds!\r\n              {user ? (\r\n                <p>Score: {Math.max(1000 - moves * 10 - timer, 100)} (Saved to leaderboard!)</p>\r\n              ) : (\r\n                <div>\r\n                  <p>Score: {Math.max(1000 - moves * 10 - timer, 100)}</p>\r\n                  <p className={styles.guestHint}>\r\n                    💡 Sign in with Google to save your high scores to the leaderboard!\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PuzzleBoard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}