{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdBanner(){const adRef=useRef(null);const[adBlocked,setAdBlocked]=useState(false);const[adLoaded,setAdLoaded]=useState(false);const[debugInfo,setDebugInfo]=useState('');useEffect(()=>{console.log('AdBanner mounted');setDebugInfo('Initializing...');const checkAds=()=>{console.log('Checking ads...');setDebugInfo('Checking AdSense availability...');const adsbygoogle=window.adsbygoogle;console.log('adsbygoogle available:',!!adsbygoogle);console.log('Ad element:',adRef.current);try{if(adsbygoogle&&adRef.current){console.log('Pushing ad...');setDebugInfo('Pushing ad request...');// Initialize adsbygoogle array if it doesn't exist\nif(!Array.isArray(adsbygoogle)){window.adsbygoogle=[];}window.adsbygoogle.push({});setAdLoaded(true);setDebugInfo('Ad request sent successfully');// Check if ad actually loaded after some time\nsetTimeout(()=>{if(adRef.current){const rect=adRef.current.getBoundingClientRect();const hasContent=adRef.current.innerHTML.trim().length>100;console.log('Ad element dimensions:',rect);console.log('Ad element has content:',hasContent);if(rect.height>50&&hasContent){setDebugInfo('✅ Ad loaded successfully');}else{setDebugInfo('⚠️ Ad space exists but no ad content (may be normal for new sites)');}}},5000);}else{if(!adsbygoogle){setDebugInfo('❌ AdSense script not loaded');setAdBlocked(true);}else if(!adRef.current){setDebugInfo('❌ Ad element not found');}}}catch(e){console.error('AdSense error:',e);const errorMessage=e instanceof Error?e.message:'Unknown error occurred';setDebugInfo(\"\\u274C Error: \".concat(errorMessage));setAdBlocked(true);}};// Wait for script to load\nconst waitForScript=()=>{const script=document.querySelector('script[src*=\"adsbygoogle.js\"]');const adsbygoogle=window.adsbygoogle;console.log('AdSense script element found:',!!script);console.log('AdSense object available:',!!adsbygoogle);if(script){setDebugInfo('AdSense script found, initializing...');// Initialize the adsbygoogle array if it doesn't exist\nif(!adsbygoogle){window.adsbygoogle=window.adsbygoogle||[];}checkAds();}else{setDebugInfo('❌ AdSense script not found in page');setAdBlocked(true);}};// Check immediately and after delays\nconst timer1=setTimeout(waitForScript,1000);const timer2=setTimeout(waitForScript,3000);return()=>{clearTimeout(timer1);clearTimeout(timer2);};},[]);// Show debug info in development or with ?debug=true\nconst showDebug=process.env.NODE_ENV==='development'||new URLSearchParams(window.location.search).has('debug');if(adBlocked){return/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',minHeight:100,display:'flex',alignItems:'center',justifyContent:'center',background:'#f0f0f0',color:'#666',border:'1px dashed #ccc',borderRadius:'8px',margin:'10px 0'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCE2 Support CrazyPuzzle\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Please disable ad blocker to support development\"}),showDebug&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'10px',marginTop:'5px'},children:[\"Debug: \",debugInfo]})]})});}return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',minWidth:320,minHeight:100,margin:'10px 0'},children:[showDebug&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',background:'#e3f2fd',padding:'5px',borderRadius:'4px',marginBottom:'5px',color:'#1976d2'},children:[\"Debug: \",debugInfo]}),/*#__PURE__*/_jsx(\"ins\",{className:\"adsbygoogle\",style:{display:'block',width:'100%',minHeight:'100px'},\"data-ad-client\":\"ca-pub-1917839501702299\",\"data-ad-slot\":\"8369048135\",\"data-ad-format\":\"auto\",\"data-full-width-responsive\":\"true\",ref:adRef}),!adLoaded&&!adBlocked&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'100px',color:'#999',background:'#f8f9fa',borderRadius:'4px'},children:\"Loading advertisement...\"})]});}export default AdBanner;","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","AdBanner","adRef","adBlocked","setAdBlocked","adLoaded","setAdLoaded","debugInfo","setDebugInfo","console","log","checkAds","adsbygoogle","window","current","Array","isArray","push","setTimeout","rect","getBoundingClientRect","hasContent","innerHTML","trim","length","height","e","error","errorMessage","Error","message","concat","waitForScript","script","document","querySelector","timer1","timer2","clearTimeout","showDebug","process","env","NODE_ENV","URLSearchParams","location","search","has","style","width","minHeight","display","alignItems","justifyContent","background","color","border","borderRadius","margin","children","textAlign","fontSize","marginTop","minWidth","padding","marginBottom","className","ref"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/AdBanner.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\nfunction AdBanner() {\r\n  const adRef = useRef<HTMLModElement>(null);\r\n  const [adBlocked, setAdBlocked] = useState(false);\r\n  const [adLoaded, setAdLoaded] = useState(false);\r\n  const [debugInfo, setDebugInfo] = useState('');\r\n\r\n  useEffect(() => {\r\n    console.log('AdBanner mounted');\r\n    setDebugInfo('Initializing...');\r\n    \r\n    const checkAds = () => {\r\n      console.log('Checking ads...');\r\n      setDebugInfo('Checking AdSense availability...');\r\n      \r\n      const adsbygoogle = (window as any).adsbygoogle;\r\n      console.log('adsbygoogle available:', !!adsbygoogle);\r\n      console.log('Ad element:', adRef.current);\r\n      \r\n      try {\r\n        if (adsbygoogle && adRef.current) {\r\n          console.log('Pushing ad...');\r\n          setDebugInfo('Pushing ad request...');\r\n          \r\n          // Initialize adsbygoogle array if it doesn't exist\r\n          if (!Array.isArray(adsbygoogle)) {\r\n            (window as any).adsbygoogle = [];\r\n          }\r\n          \r\n          (window as any).adsbygoogle.push({});\r\n          setAdLoaded(true);\r\n          setDebugInfo('Ad request sent successfully');\r\n          \r\n          // Check if ad actually loaded after some time\r\n          setTimeout(() => {\r\n            if (adRef.current) {\r\n              const rect = adRef.current.getBoundingClientRect();\r\n              const hasContent = adRef.current.innerHTML.trim().length > 100;\r\n              \r\n              console.log('Ad element dimensions:', rect);\r\n              console.log('Ad element has content:', hasContent);\r\n              \r\n              if (rect.height > 50 && hasContent) {\r\n                setDebugInfo('✅ Ad loaded successfully');\r\n              } else {\r\n                setDebugInfo('⚠️ Ad space exists but no ad content (may be normal for new sites)');\r\n              }\r\n            }\r\n          }, 5000);\r\n          \r\n        } else {\r\n          if (!adsbygoogle) {\r\n            setDebugInfo('❌ AdSense script not loaded');\r\n            setAdBlocked(true);\r\n          } else if (!adRef.current) {\r\n            setDebugInfo('❌ Ad element not found');\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error('AdSense error:', e);\r\n        const errorMessage = e instanceof Error ? e.message : 'Unknown error occurred';\r\n        setDebugInfo(`❌ Error: ${errorMessage}`);\r\n        setAdBlocked(true);\r\n      }\r\n    };\r\n\r\n    // Wait for script to load\r\n    const waitForScript = () => {\r\n      const script = document.querySelector('script[src*=\"adsbygoogle.js\"]');\r\n      const adsbygoogle = (window as any).adsbygoogle;\r\n      \r\n      console.log('AdSense script element found:', !!script);\r\n      console.log('AdSense object available:', !!adsbygoogle);\r\n      \r\n      if (script) {\r\n        setDebugInfo('AdSense script found, initializing...');\r\n        // Initialize the adsbygoogle array if it doesn't exist\r\n        if (!adsbygoogle) {\r\n          (window as any).adsbygoogle = (window as any).adsbygoogle || [];\r\n        }\r\n        checkAds();\r\n      } else {\r\n        setDebugInfo('❌ AdSense script not found in page');\r\n        setAdBlocked(true);\r\n      }\r\n    };\r\n\r\n    // Check immediately and after delays\r\n    const timer1 = setTimeout(waitForScript, 1000);\r\n    const timer2 = setTimeout(waitForScript, 3000);\r\n\r\n    return () => {\r\n      clearTimeout(timer1);\r\n      clearTimeout(timer2);\r\n    };\r\n  }, []);\r\n\r\n  // Show debug info in development or with ?debug=true\r\n  const showDebug = process.env.NODE_ENV === 'development' || \r\n                   new URLSearchParams(window.location.search).has('debug');\r\n\r\n  if (adBlocked) {\r\n    return (\r\n      <div style={{ \r\n        width: '100%', \r\n        minHeight: 100, \r\n        display: 'flex', \r\n        alignItems: 'center', \r\n        justifyContent: 'center', \r\n        background: '#f0f0f0', \r\n        color: '#666',\r\n        border: '1px dashed #ccc',\r\n        borderRadius: '8px',\r\n        margin: '10px 0'\r\n      }}>\r\n        <div style={{ textAlign: 'center' }}>\r\n          <p>📢 Support CrazyPuzzle</p>\r\n          <small>Please disable ad blocker to support development</small>\r\n          {showDebug && <div style={{ fontSize: '10px', marginTop: '5px' }}>Debug: {debugInfo}</div>}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ width: '100%', minWidth: 320, minHeight: 100, margin: '10px 0' }}>\r\n      {showDebug && (\r\n        <div style={{ \r\n          fontSize: '12px', \r\n          background: '#e3f2fd', \r\n          padding: '5px', \r\n          borderRadius: '4px', \r\n          marginBottom: '5px',\r\n          color: '#1976d2'\r\n        }}>\r\n          Debug: {debugInfo}\r\n        </div>\r\n      )}\r\n      \r\n      <ins\r\n        className=\"adsbygoogle\"\r\n        style={{ display: 'block', width: '100%', minHeight: '100px' }}\r\n        data-ad-client=\"ca-pub-1917839501702299\"\r\n        data-ad-slot=\"8369048135\"\r\n        data-ad-format=\"auto\"\r\n        data-full-width-responsive=\"true\"\r\n        ref={adRef}\r\n      ></ins>\r\n      \r\n      {!adLoaded && !adBlocked && (\r\n        <div style={{ \r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          justifyContent: 'center', \r\n          minHeight: '100px',\r\n          color: '#999',\r\n          background: '#f8f9fa',\r\n          borderRadius: '4px'\r\n        }}>\r\n          Loading advertisement...\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdBanner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}