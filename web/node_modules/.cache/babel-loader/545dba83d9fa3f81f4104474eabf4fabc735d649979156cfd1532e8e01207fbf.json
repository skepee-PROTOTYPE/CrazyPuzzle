{"ast":null,"code":"import React,{useState,useEffect}from'react';import{db}from'./firebase';import{collection,query,orderBy,limit,getDocs}from'firebase/firestore';import AdBanner from'./AdBanner';import'./App.scss';import'./Leaderboard.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Leaderboard(_ref){let{score,timer,difficulty,layout}=_ref;const[leaderboard,setLeaderboard]=useState([]);useEffect(()=>{const fetchLeaderboard=async()=>{try{const q=query(collection(db,'scores'),orderBy('score','desc'),orderBy('time','asc'),limit(10));const querySnapshot=await getDocs(q);const scores=querySnapshot.docs.map(doc=>doc.data());setLeaderboard(scores);}catch(error){console.error('Error fetching leaderboard:',error);}};fetchLeaderboard();},[score,timer,difficulty,layout]);return/*#__PURE__*/_jsxs(\"div\",{className:\"leaderboard-card\",children:[/*#__PURE__*/_jsx(AdBanner,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"leaderboard-title\",children:\"CrazyPuzzle Leaderboard\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"leaderboard-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Score\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time (s)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Difficulty\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Layout\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:leaderboard.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:5,className:\"no-scores\",children:\"No scores yet.\"})}):leaderboard.map((entry,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsx(\"td\",{children:entry.score}),/*#__PURE__*/_jsx(\"td\",{children:entry.time}),/*#__PURE__*/_jsx(\"td\",{children:entry.difficulty}),/*#__PURE__*/_jsx(\"td\",{children:entry.layout})]},idx))})]})]});}export default Leaderboard;","map":{"version":3,"names":["React","useState","useEffect","db","collection","query","orderBy","limit","getDocs","AdBanner","jsx","_jsx","jsxs","_jsxs","Leaderboard","_ref","score","timer","difficulty","layout","leaderboard","setLeaderboard","fetchLeaderboard","q","querySnapshot","scores","docs","map","doc","data","error","console","className","children","length","colSpan","entry","idx","time"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/Leaderboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db } from './firebase';\r\nimport { collection, query, orderBy, limit, getDocs } from 'firebase/firestore';\r\nimport AdBanner from './AdBanner';\r\nimport './App.scss';\r\nimport './Leaderboard.scss';\r\n\r\ninterface LeaderboardProps {\r\n  score: number;\r\n  timer: number;\r\n  difficulty: string;\r\n  layout: string;\r\n}\r\n\r\nfunction Leaderboard({ score, timer, difficulty, layout }: LeaderboardProps) {\r\n  const [leaderboard, setLeaderboard] = useState<Array<Record<string, any>>>([]);\r\n\r\n  useEffect(() => {\r\n    const fetchLeaderboard = async () => {\r\n      try {\r\n        const q = query(\r\n          collection(db, 'scores'),\r\n          orderBy('score', 'desc'),\r\n          orderBy('time', 'asc'),\r\n          limit(10)\r\n        );\r\n        const querySnapshot = await getDocs(q);\r\n        const scores = querySnapshot.docs.map(doc => doc.data());\r\n        setLeaderboard(scores);\r\n      } catch (error) {\r\n        console.error('Error fetching leaderboard:', error);\r\n      }\r\n    };\r\n    fetchLeaderboard();\r\n  }, [score, timer, difficulty, layout]);\r\n\r\n  return (\r\n    <div className=\"leaderboard-card\">\r\n      <AdBanner />\r\n      <h2 className=\"leaderboard-title\">CrazyPuzzle Leaderboard</h2>\r\n      <table className=\"leaderboard-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Rank</th>\r\n            <th>Score</th>\r\n            <th>Time (s)</th>\r\n            <th>Difficulty</th>\r\n            <th>Layout</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {leaderboard.length === 0 ? (\r\n            <tr><td colSpan={5} className=\"no-scores\">No scores yet.</td></tr>\r\n          ) : (\r\n            leaderboard.map((entry, idx) => (\r\n              <tr key={idx}>\r\n                <td>{idx + 1}</td>\r\n                <td>{entry.score}</td>\r\n                <td>{entry.time}</td>\r\n                <td>{entry.difficulty}</td>\r\n                <td>{entry.layout}</td>\r\n              </tr>\r\n            ))\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Leaderboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}