{"ast":null,"code":"import _objectSpread from\"C:/Users/MARCE/source/repos/CrazyPuzzle/web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{db,realtimeDb}from'./firebase';import{collection,query,where,orderBy,limit,getDocs}from'firebase/firestore';import{ref,onValue}from'firebase/database';import styles from'./Leaderboard.module.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Leaderboard(_ref){let{mode='singleplayer',difficulty='easy',layout='grid',score=0,timer=0}=_ref;const[leaderboard,setLeaderboard]=useState([]);const[multiplayerLeaderboard,setMultiplayerLeaderboard]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');// Singleplayer leaderboard effect\nuseEffect(()=>{if(mode!=='singleplayer')return;const fetchLeaderboard=async()=>{try{setLoading(true);setError('');// Only try the complex query for grid layout (which works)\nif(layout==='grid'){const scoresRef=collection(db,'scores');const q=query(scoresRef,where('difficulty','==',difficulty),where('layout','==',layout),orderBy('score','desc'),limit(10));const querySnapshot=await getDocs(q);const scores=querySnapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data()));setLeaderboard(scores);}else{// For non-grid layouts, show empty leaderboard since they're not implemented\nsetLeaderboard([]);}}catch(error){setError('Unable to load leaderboard. This may be due to missing database indexes.');// Fallback: try to get some scores without complex filtering\ntry{const scoresRef=collection(db,'scores');const simpleQuery=query(scoresRef,limit(5));const snapshot=await getDocs(simpleQuery);const allScores=snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data())).filter(scoreItem=>scoreItem.difficulty===difficulty&&scoreItem.layout===layout).sort((a,b)=>b.score-a.score).slice(0,10);setLeaderboard(allScores);setError('');// Clear error if fallback works\n}catch(fallbackError){setLeaderboard([]);}}finally{setLoading(false);}};fetchLeaderboard();},[mode,difficulty,layout,score,timer]);// Multiplayer leaderboard effect\nuseEffect(()=>{if(mode!=='multiplayer')return;setLoading(true);const statsRef=ref(realtimeDb,'userStats');const unsubscribe=onValue(statsRef,snapshot=>{const data=snapshot.val();if(data){const entries=Object.entries(data).map(_ref2=>{let[userId,stats]=_ref2;const gamesPlayed=stats.multiplayerGamesPlayed||0;const wins=stats.multiplayerWins||0;const winRate=gamesPlayed>0?Math.round(wins/gamesPlayed*100):0;return{userId,displayName:stats.displayName||\"Player \".concat(userId.slice(0,8)),points:stats.multiplayerPoints||0,wins:wins,gamesPlayed:gamesPlayed,winRate:winRate};}).filter(entry=>entry.gamesPlayed>0)// Only show players who have played\n.sort((a,b)=>b.points-a.points).slice(0,10);setMultiplayerLeaderboard(entries);}else{setMultiplayerLeaderboard([]);}setLoading(false);});return()=>unsubscribe();},[mode]);if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:styles.leaderboardCard,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.leaderboardTitle,children:mode==='multiplayer'?'üèÜ Multiplayer Leaderboard':'Leaderboard'}),/*#__PURE__*/_jsxs(\"div\",{className:styles.noScores,children:[\"Loading\",mode==='multiplayer'?'...':' leaderboard...']})]});}// Render multiplayer leaderboard\nif(mode==='multiplayer'){return/*#__PURE__*/_jsxs(\"div\",{className:styles.leaderboardCard,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.leaderboardTitle,children:\"\\uD83C\\uDFC6 Multiplayer Leaderboard\"}),multiplayerLeaderboard.length===0?/*#__PURE__*/_jsx(\"div\",{className:styles.noScores,children:\"No multiplayer games played yet\"}):/*#__PURE__*/_jsx(\"div\",{className:styles.scoresList,children:multiplayerLeaderboard.map((entry,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreItem,children:[/*#__PURE__*/_jsxs(\"span\",{className:styles.rank,children:[\"#\",index+1]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.playerInfo,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.playerName,children:entry.displayName}),/*#__PURE__*/_jsxs(\"div\",{className:styles.playerStats,children:[/*#__PURE__*/_jsxs(\"span\",{className:styles.statBadge,children:[\"\\uD83C\\uDFC6 \",entry.wins,\"W/\",entry.gamesPlayed,\"G\"]}),/*#__PURE__*/_jsxs(\"span\",{className:styles.statBadge,children:[\"\\uD83D\\uDCCA \",entry.winRate,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"span\",{className:styles.score,children:[entry.points,\" pts\"]})]},entry.userId))})]});}// Render singleplayer leaderboard\nreturn/*#__PURE__*/_jsxs(\"div\",{className:styles.leaderboardCard,children:[/*#__PURE__*/_jsxs(\"h3\",{className:styles.leaderboardTitle,children:[\"Leaderboard - \",difficulty.charAt(0).toUpperCase()+difficulty.slice(1),\" (\",layout,\")\"]}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff3cd',color:'#856404',padding:'10px',borderRadius:'4px',marginBottom:'15px',fontSize:'0.9rem'},children:[\"\\u26A0\\uFE0F \",error]}),layout!=='grid'?/*#__PURE__*/_jsxs(\"div\",{className:styles.noScores,children:[\"Leaderboard will be available when \",/*#__PURE__*/_jsx(\"strong\",{children:layout}),\" layout is implemented.\"]}):leaderboard.length>0?/*#__PURE__*/_jsxs(\"table\",{className:styles.leaderboardTable,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:styles.rank,children:\"Rank\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Player\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{className:styles.score,children:\"Score\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:leaderboard.map((entry,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:styles.rank,children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:entry.userName.split(' ')[0]}),/*#__PURE__*/_jsxs(\"td\",{children:[entry.time,\"s\"]}),/*#__PURE__*/_jsx(\"td\",{className:styles.score,children:entry.score})]},entry.id))})]}):/*#__PURE__*/_jsx(\"div\",{className:styles.noScores,children:\"No scores yet for this difficulty and layout. Be the first to play!\"})]});}export default Leaderboard;","map":{"version":3,"names":["React","useEffect","useState","db","realtimeDb","collection","query","where","orderBy","limit","getDocs","ref","onValue","styles","jsx","_jsx","jsxs","_jsxs","Leaderboard","_ref","mode","difficulty","layout","score","timer","leaderboard","setLeaderboard","multiplayerLeaderboard","setMultiplayerLeaderboard","loading","setLoading","error","setError","fetchLeaderboard","scoresRef","q","querySnapshot","scores","docs","map","doc","_objectSpread","id","data","simpleQuery","snapshot","allScores","filter","scoreItem","sort","a","b","slice","fallbackError","statsRef","unsubscribe","val","entries","Object","_ref2","userId","stats","gamesPlayed","multiplayerGamesPlayed","wins","multiplayerWins","winRate","Math","round","displayName","concat","points","multiplayerPoints","entry","className","leaderboardCard","children","leaderboardTitle","noScores","length","scoresList","index","rank","playerInfo","playerName","playerStats","statBadge","charAt","toUpperCase","style","background","color","padding","borderRadius","marginBottom","fontSize","leaderboardTable","userName","split","time"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/Leaderboard.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { db, realtimeDb } from './firebase';\r\nimport { collection, query, where, orderBy, limit, getDocs } from 'firebase/firestore';\r\nimport { ref, onValue } from 'firebase/database';\r\nimport styles from './Leaderboard.module.scss';\r\n\r\ninterface LeaderboardProps {\r\n  mode?: 'singleplayer' | 'multiplayer';\r\n  difficulty?: string;\r\n  layout?: string;\r\n  score?: number;\r\n  timer?: number;\r\n}\r\n\r\ninterface Score {\r\n  id: string;\r\n  userName: string;\r\n  score: number;\r\n  time: number;\r\n  difficulty: string;\r\n  layout: string;\r\n  createdAt: any;\r\n}\r\n\r\ninterface MultiplayerEntry {\r\n  userId: string;\r\n  displayName: string;\r\n  points: number;\r\n  wins: number;\r\n  gamesPlayed: number;\r\n  winRate: number;\r\n}\r\n\r\nfunction Leaderboard({ mode = 'singleplayer', difficulty = 'easy', layout = 'grid', score = 0, timer = 0 }: LeaderboardProps) {\r\n  const [leaderboard, setLeaderboard] = useState<Score[]>([]);\r\n  const [multiplayerLeaderboard, setMultiplayerLeaderboard] = useState<MultiplayerEntry[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string>('');\r\n\r\n  // Singleplayer leaderboard effect\r\n  useEffect(() => {\r\n    if (mode !== 'singleplayer') return;\r\n\r\n    const fetchLeaderboard = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n        \r\n        // Only try the complex query for grid layout (which works)\r\n        if (layout === 'grid') {\r\n          const scoresRef = collection(db, 'scores');\r\n          const q = query(\r\n            scoresRef,\r\n            where('difficulty', '==', difficulty),\r\n            where('layout', '==', layout),\r\n            orderBy('score', 'desc'),\r\n            limit(10)\r\n          );\r\n          \r\n          const querySnapshot = await getDocs(q);\r\n          const scores = querySnapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data()\r\n          })) as Score[];\r\n          \r\n          setLeaderboard(scores);\r\n        } else {\r\n          // For non-grid layouts, show empty leaderboard since they're not implemented\r\n          setLeaderboard([]);\r\n        }\r\n        \r\n      } catch (error: any) {\r\n        setError('Unable to load leaderboard. This may be due to missing database indexes.');\r\n        \r\n        // Fallback: try to get some scores without complex filtering\r\n        try {\r\n          const scoresRef = collection(db, 'scores');\r\n          const simpleQuery = query(scoresRef, limit(5));\r\n          const snapshot = await getDocs(simpleQuery);\r\n          \r\n          const allScores = snapshot.docs\r\n            .map(doc => ({ id: doc.id, ...doc.data() } as Score))\r\n            .filter(scoreItem => scoreItem.difficulty === difficulty && scoreItem.layout === layout)\r\n            .sort((a, b) => b.score - a.score)\r\n            .slice(0, 10);\r\n            \r\n          setLeaderboard(allScores);\r\n          setError(''); // Clear error if fallback works\r\n        } catch (fallbackError) {\r\n          setLeaderboard([]);\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchLeaderboard();\r\n  }, [mode, difficulty, layout, score, timer]);\r\n\r\n  // Multiplayer leaderboard effect\r\n  useEffect(() => {\r\n    if (mode !== 'multiplayer') return;\r\n\r\n    setLoading(true);\r\n    const statsRef = ref(realtimeDb, 'userStats');\r\n    \r\n    const unsubscribe = onValue(statsRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const entries: MultiplayerEntry[] = Object.entries(data)\r\n          .map(([userId, stats]: [string, any]) => {\r\n            const gamesPlayed = stats.multiplayerGamesPlayed || 0;\r\n            const wins = stats.multiplayerWins || 0;\r\n            const winRate = gamesPlayed > 0 ? Math.round((wins / gamesPlayed) * 100) : 0;\r\n            \r\n            return {\r\n              userId,\r\n              displayName: stats.displayName || `Player ${userId.slice(0, 8)}`,\r\n              points: stats.multiplayerPoints || 0,\r\n              wins: wins,\r\n              gamesPlayed: gamesPlayed,\r\n              winRate: winRate\r\n            };\r\n          })\r\n          .filter(entry => entry.gamesPlayed > 0) // Only show players who have played\r\n          .sort((a, b) => b.points - a.points)\r\n          .slice(0, 10);\r\n        setMultiplayerLeaderboard(entries);\r\n      } else {\r\n        setMultiplayerLeaderboard([]);\r\n      }\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [mode]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={styles.leaderboardCard}>\r\n        <h3 className={styles.leaderboardTitle}>\r\n          {mode === 'multiplayer' ? 'üèÜ Multiplayer Leaderboard' : 'Leaderboard'}\r\n        </h3>\r\n        <div className={styles.noScores}>Loading{mode === 'multiplayer' ? '...' : ' leaderboard...'}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Render multiplayer leaderboard\r\n  if (mode === 'multiplayer') {\r\n    return (\r\n      <div className={styles.leaderboardCard}>\r\n        <h3 className={styles.leaderboardTitle}>üèÜ Multiplayer Leaderboard</h3>\r\n        {multiplayerLeaderboard.length === 0 ? (\r\n          <div className={styles.noScores}>No multiplayer games played yet</div>\r\n        ) : (\r\n          <div className={styles.scoresList}>\r\n            {multiplayerLeaderboard.map((entry, index) => (\r\n              <div key={entry.userId} className={styles.scoreItem}>\r\n                <span className={styles.rank}>#{index + 1}</span>\r\n                <div className={styles.playerInfo}>\r\n                  <span className={styles.playerName}>{entry.displayName}</span>\r\n                  <div className={styles.playerStats}>\r\n                    <span className={styles.statBadge}>\r\n                      üèÜ {entry.wins}W/{entry.gamesPlayed}G\r\n                    </span>\r\n                    <span className={styles.statBadge}>\r\n                      üìä {entry.winRate}%\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <span className={styles.score}>{entry.points} pts</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Render singleplayer leaderboard\r\n  return (\r\n    <div className={styles.leaderboardCard}>\r\n      <h3 className={styles.leaderboardTitle}>\r\n        Leaderboard - {difficulty.charAt(0).toUpperCase() + difficulty.slice(1)} ({layout})\r\n      </h3>\r\n      \r\n      {error && (\r\n        <div style={{ \r\n          background: '#fff3cd', \r\n          color: '#856404', \r\n          padding: '10px', \r\n          borderRadius: '4px', \r\n          marginBottom: '15px',\r\n          fontSize: '0.9rem'\r\n        }}>\r\n          ‚ö†Ô∏è {error}\r\n        </div>\r\n      )}\r\n      \r\n      {layout !== 'grid' ? (\r\n        <div className={styles.noScores}>\r\n          Leaderboard will be available when <strong>{layout}</strong> layout is implemented.\r\n        </div>\r\n      ) : leaderboard.length > 0 ? (\r\n        <table className={styles.leaderboardTable}>\r\n          <thead>\r\n            <tr>\r\n              <th className={styles.rank}>Rank</th>\r\n              <th>Player</th>\r\n              <th>Time</th>\r\n              <th className={styles.score}>Score</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {leaderboard.map((entry, index) => (\r\n              <tr key={entry.id}>\r\n                <td className={styles.rank}>{index + 1}</td>\r\n                <td>{entry.userName.split(' ')[0]}</td>\r\n                <td>{entry.time}s</td>\r\n                <td className={styles.score}>{entry.score}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      ) : (\r\n        <div className={styles.noScores}>\r\n          No scores yet for this difficulty and layout. Be the first to play!\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Leaderboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}