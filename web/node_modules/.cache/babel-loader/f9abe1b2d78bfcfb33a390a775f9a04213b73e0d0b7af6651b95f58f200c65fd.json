{"ast":null,"code":"import React,{useState,useEffect}from'react';import{auth,provider,signInWithPopup,signOut}from'./auth';import{db}from'./firebase';import{collection,addDoc,Timestamp}from'firebase/firestore';import'./App.scss';import AdBanner from'./AdBanner';import PuzzleBoard from'./PuzzleBoard';import Leaderboard from'./Leaderboard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _user$photoURL;const[user,setUser]=useState(null);const[difficulty,setDifficulty]=useState('easy');const[layout,setLayout]=useState('grid');const[score,setScore]=useState(0);const[timer,setTimer]=useState(0);// Listen for auth state changes\nuseEffect(()=>{const unsubscribe=auth.onAuthStateChanged(u=>setUser(u));return()=>unsubscribe();},[]);// Login handler\nconst handleLogin=async()=>{try{await signInWithPopup(auth,provider);}catch(error){const msg=error instanceof Error?error.message:String(error);alert('Login failed: '+msg);}};// Logout handler\nconst handleLogout=async()=>{try{await signOut(auth);}catch(error){const msg=error instanceof Error?error.message:String(error);alert('Logout failed: '+msg);}};// Save score to Firestore when puzzle is completed\nconst handleScore=async(score,timer)=>{if(user){try{await addDoc(collection(db,'scores'),{score,time:timer,difficulty,layout,userId:user.uid,userName:user.displayName,createdAt:Timestamp.now()});}catch(error){console.error('Error saving score:',error);}}setScore(score);setTimer(timer);};return/*#__PURE__*/_jsx(\"div\",{className:\"app-bg\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"app-title animated-bounce\",children:\"Crazy Puzzle\"}),/*#__PURE__*/_jsx(AdBanner,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card sign-in-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Sign In\"}),!user?/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:\"btn sign-in-btn\",children:\"Sign in with Google\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:(_user$photoURL=user.photoURL)!==null&&_user$photoURL!==void 0?_user$photoURL:undefined,alt:\"profile\",className:\"user-avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:user.displayName}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn logout-btn\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card difficulty-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Difficulty\"}),/*#__PURE__*/_jsxs(\"select\",{value:difficulty,onChange:e=>setDifficulty(e.target.value),className:\"select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"easy\",children:\"Kids - Easy\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hard\",children:\"Adults - Hard\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card layout-card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Layout\"}),/*#__PURE__*/_jsxs(\"select\",{value:layout,onChange:e=>setLayout(e.target.value),className:\"select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"grid\",children:\"Grid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hex\",children:\"Hexagonal\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"score-box\",children:[\"Score: \",score]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score-box\",children:[\"Time: \",timer,\"s\"]})]}),/*#__PURE__*/_jsx(PuzzleBoard,{difficulty:difficulty,layout:layout,user:user,onScore:handleScore,onComplete:undefined}),/*#__PURE__*/_jsx(Leaderboard,{score:score,timer:timer,difficulty:difficulty,layout:layout}),/*#__PURE__*/_jsx(AdBanner,{})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","auth","provider","signInWithPopup","signOut","db","collection","addDoc","Timestamp","AdBanner","PuzzleBoard","Leaderboard","jsx","_jsx","jsxs","_jsxs","App","_user$photoURL","user","setUser","difficulty","setDifficulty","layout","setLayout","score","setScore","timer","setTimer","unsubscribe","onAuthStateChanged","u","handleLogin","error","msg","Error","message","String","alert","handleLogout","handleScore","time","userId","uid","userName","displayName","createdAt","now","console","className","children","onClick","src","photoURL","undefined","alt","value","onChange","e","target","onScore","onComplete"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { auth, provider, signInWithPopup, signOut } from './auth';\nimport { db } from './firebase';\nimport { collection, addDoc, Timestamp } from 'firebase/firestore';\nimport './App.scss';\nimport AdBanner from './AdBanner';\nimport PuzzleBoard from './PuzzleBoard';\nimport Leaderboard from './Leaderboard';\n\nfunction App() {\n  const [user, setUser] = useState<import('firebase/auth').User | null>(null);\n  const [difficulty, setDifficulty] = useState('easy');\n  const [layout, setLayout] = useState('grid');\n  const [score, setScore] = useState(0);\n  const [timer, setTimer] = useState(0);\n\n  // Listen for auth state changes\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(u => setUser(u));\n    return () => unsubscribe();\n  }, []);\n\n  // Login handler\n  const handleLogin = async () => {\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (error: unknown) {\n      const msg = error instanceof Error ? error.message : String(error);\n      alert('Login failed: ' + msg);\n    }\n  };\n\n  // Logout handler\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n    } catch (error: unknown) {\n      const msg = error instanceof Error ? error.message : String(error);\n      alert('Logout failed: ' + msg);\n    }\n  };\n\n  // Save score to Firestore when puzzle is completed\n  const handleScore = async (score, timer) => {\n    if (user) {\n      try {\n        await addDoc(collection(db, 'scores'), {\n          score,\n          time: timer,\n          difficulty,\n          layout,\n          userId: user.uid,\n          userName: user.displayName,\n          createdAt: Timestamp.now()\n        });\n      } catch (error: unknown) {\n        console.error('Error saving score:', error);\n      }\n    }\n    setScore(score);\n    setTimer(timer);\n  };\n\n  return (\n    <div className=\"app-bg\">\n      <header className=\"app-header\">\n        <h1 className=\"app-title animated-bounce\">Crazy Puzzle</h1>\n        <AdBanner />\n        <div className=\"controls-row\">\n          <div className=\"card sign-in-card\">\n            <h3 className=\"card-title\">Sign In</h3>\n            {!user ? (\n              <button onClick={handleLogin} className=\"btn sign-in-btn\">\n                Sign in with Google\n              </button>\n            ) : (\n              <div className=\"user-info\">\n                <img src={user.photoURL ?? undefined} alt=\"profile\" className=\"user-avatar\" />\n                <span className=\"user-name\">{user.displayName}</span>\n                <button onClick={handleLogout} className=\"btn logout-btn\">\n                  Logout\n                </button>\n              </div>\n            )}\n          </div>\n          <div className=\"card difficulty-card\">\n            <h3 className=\"card-title\">Difficulty</h3>\n            <select value={difficulty} onChange={e => setDifficulty(e.target.value)} className=\"select\">\n              <option value=\"easy\">Kids - Easy</option>\n              <option value=\"medium\">Medium</option>\n              <option value=\"hard\">Adults - Hard</option>\n            </select>\n          </div>\n          <div className=\"card layout-card\">\n            <h3 className=\"card-title\">Layout</h3>\n            <select value={layout} onChange={e => setLayout(e.target.value)} className=\"select\">\n              <option value=\"grid\">Grid</option>\n              <option value=\"hex\">Hexagonal</option>\n            </select>\n          </div>\n        </div>\n        <div className=\"score-row\">\n          <div className=\"score-box\">Score: {score}</div>\n          <div className=\"score-box\">Time: {timer}s</div>\n        </div>\n        <PuzzleBoard\n          difficulty={difficulty}\n          layout={layout}\n          user={user}\n          onScore={handleScore} onComplete={undefined}        />\n        <Leaderboard\n          score={score}\n          timer={timer}\n          difficulty={difficulty}\n          layout={layout}\n        />\n        <AdBanner />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}