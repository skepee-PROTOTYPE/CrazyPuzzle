{"ast":null,"code":"import React,{useEffect,useState}from'react';import{auth}from'./firebase';import{onAuthStateChanged,signInWithPopup,GoogleAuthProvider,signOut}from'firebase/auth';import PuzzleBoard from'./PuzzleBoard';import Leaderboard from'./Leaderboard';import AdBanner from'./AdBanner';import styles from'./App.module.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[difficulty,setDifficulty]=useState('easy');const[layout,setLayout]=useState('grid');const[score,setScore]=useState(0);const[timer,setTimer]=useState(0);useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,currentUser=>{setUser(currentUser);});return()=>unsubscribe();},[]);const signInWithGoogle=async()=>{const provider=new GoogleAuthProvider();try{await signInWithPopup(auth,provider);}catch(error){console.error('Error signing in with Google:',error);}};const handleSignOut=async()=>{try{await signOut(auth);}catch(error){console.error('Error signing out:',error);}};const handleScoreUpdate=(newScore,newTimer)=>{setScore(newScore);setTimer(newTimer);};return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.appHeaderContainer,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.appTitle,children:\"\\uD83E\\uDDE9 CrazyPuzzle\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.controlsRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.cardTitle,children:\"Game Settings\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Difficulty:\"}),/*#__PURE__*/_jsxs(\"select\",{value:difficulty,onChange:e=>setDifficulty(e.target.value),className:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"easy\",children:\"Easy (4x4)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium (6x6)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hard\",children:\"Hard (8x8)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Layout:\"}),/*#__PURE__*/_jsxs(\"select\",{value:layout,onChange:e=>setLayout(e.target.value),className:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"grid\",children:\"Grid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"circle\",children:\"Circle\"}),/*#__PURE__*/_jsx(\"option\",{value:\"diamond\",children:\"Diamond\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.card,\" \").concat(styles.optionalCard),children:[/*#__PURE__*/_jsxs(\"h3\",{className:styles.cardTitle,children:[user?'Player Account':'Save Your Progress',/*#__PURE__*/_jsx(\"span\",{className:styles.optionalBadge,children:\"Optional\"})]}),user?/*#__PURE__*/_jsxs(\"div\",{className:styles.userInfo,children:[/*#__PURE__*/_jsx(\"img\",{src:user.photoURL||'',alt:\"Avatar\",className:styles.userAvatar}),/*#__PURE__*/_jsx(\"span\",{className:styles.userName,children:user.displayName}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"\".concat(styles.btn,\" \").concat(styles.logoutBtn),children:\"Sign Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:styles.guestModeText,children:[\"\\uD83C\\uDFAE You can play as a guest!\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"Sign in to save your high scores\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,className:\"\".concat(styles.btn,\" \").concat(styles.signInBtn),children:\"Sign in with Google\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreBox,children:[\"Score: \",score]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreBox,children:[\"Time: \",timer,\"s\"]}),!user&&/*#__PURE__*/_jsx(\"div\",{className:styles.scoreBox,style:{background:'#fff3cd',color:'#856404'},children:\"Guest Mode - Sign in to save scores\"})]}),/*#__PURE__*/_jsx(AdBanner,{}),/*#__PURE__*/_jsx(PuzzleBoard,{difficulty:difficulty,layout:layout,user:user,onScore:handleScoreUpdate}),/*#__PURE__*/_jsx(Leaderboard,{difficulty:difficulty,layout:layout,score:score,timer:timer})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","auth","onAuthStateChanged","signInWithPopup","GoogleAuthProvider","signOut","PuzzleBoard","Leaderboard","AdBanner","styles","jsx","_jsx","jsxs","_jsxs","App","user","setUser","difficulty","setDifficulty","layout","setLayout","score","setScore","timer","setTimer","unsubscribe","currentUser","signInWithGoogle","provider","error","console","handleSignOut","handleScoreUpdate","newScore","newTimer","className","appBg","children","appHeaderContainer","appTitle","controlsRow","card","cardTitle","style","marginBottom","value","onChange","e","target","select","concat","optionalCard","optionalBadge","userInfo","src","photoURL","alt","userAvatar","userName","displayName","onClick","btn","logoutBtn","guestModeText","signInBtn","scoreRow","scoreBox","background","color","onScore"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { User } from 'firebase/auth';\nimport { auth } from './firebase';\nimport { onAuthStateChanged, signInWithPopup, GoogleAuthProvider, signOut } from 'firebase/auth';\nimport PuzzleBoard from './PuzzleBoard';\nimport Leaderboard from './Leaderboard';\nimport AdBanner from './AdBanner';\nimport styles from './App.module.scss';\n\nfunction App() {\n  const [user, setUser] = useState<User | null>(null);\n  const [difficulty, setDifficulty] = useState<'easy' | 'medium' | 'hard'>('easy');\n  const [layout, setLayout] = useState<string>('grid');\n  const [score, setScore] = useState(0);\n  const [timer, setTimer] = useState(0);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const signInWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (error) {\n      console.error('Error signing in with Google:', error);\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await signOut(auth);\n    } catch (error) {\n      console.error('Error signing out:', error);\n    }\n  };\n\n  const handleScoreUpdate = (newScore: number, newTimer: number) => {\n    setScore(newScore);\n    setTimer(newTimer);\n  };\n\n  return (\n    <div className={styles.appBg}>\n      <div className={styles.appHeaderContainer}>\n        <h1 className={styles.appTitle}>ðŸ§© CrazyPuzzle</h1>\n        \n        <div className={styles.controlsRow}>\n          {/* Move authentication to a smaller, optional section */}\n          <div className={styles.card}>\n            <h3 className={styles.cardTitle}>Game Settings</h3>\n            <div style={{ marginBottom: '15px' }}>\n              <label>Difficulty:</label>\n              <select \n                value={difficulty} \n                onChange={(e) => setDifficulty(e.target.value as 'easy' | 'medium' | 'hard')}\n                className={styles.select}\n              >\n                <option value=\"easy\">Easy (4x4)</option>\n                <option value=\"medium\">Medium (6x6)</option>\n                <option value=\"hard\">Hard (8x8)</option>\n              </select>\n            </div>\n            <div>\n              <label>Layout:</label>\n              <select \n                value={layout} \n                onChange={(e) => setLayout(e.target.value)}\n                className={styles.select}\n              >\n                <option value=\"grid\">Grid</option>\n                <option value=\"circle\">Circle</option>\n                <option value=\"diamond\">Diamond</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Optional login section - smaller and less prominent */}\n          <div className={`${styles.card} ${styles.optionalCard}`}>\n            <h3 className={styles.cardTitle}>\n              {user ? 'Player Account' : 'Save Your Progress'} \n              <span className={styles.optionalBadge}>Optional</span>\n            </h3>\n            {user ? (\n              <div className={styles.userInfo}>\n                <img src={user.photoURL || ''} alt=\"Avatar\" className={styles.userAvatar} />\n                <span className={styles.userName}>{user.displayName}</span>\n                <button onClick={handleSignOut} className={`${styles.btn} ${styles.logoutBtn}`}>\n                  Sign Out\n                </button>\n              </div>\n            ) : (\n              <div>\n                <p className={styles.guestModeText}>\n                  ðŸŽ® You can play as a guest! \n                  <br />\n                  <small>Sign in to save your high scores</small>\n                </p>\n                <button onClick={signInWithGoogle} className={`${styles.btn} ${styles.signInBtn}`}>\n                  Sign in with Google\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className={styles.scoreRow}>\n          <div className={styles.scoreBox}>Score: {score}</div>\n          <div className={styles.scoreBox}>Time: {timer}s</div>\n          {!user && (\n            <div className={styles.scoreBox} style={{ background: '#fff3cd', color: '#856404' }}>\n              Guest Mode - Sign in to save scores\n            </div>\n          )}\n        </div>\n\n        <AdBanner />\n\n        <PuzzleBoard \n          difficulty={difficulty} \n          layout={layout} \n          user={user}\n          onScore={handleScoreUpdate}\n        />\n\n        <Leaderboard difficulty={difficulty} layout={layout} score={score} timer={timer} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}