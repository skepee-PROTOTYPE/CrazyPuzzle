{"ast":null,"code":"import React,{useEffect,useState}from'react';import{auth}from'./firebase';import{onAuthStateChanged,signInWithPopup,signInWithRedirect,getRedirectResult,GoogleAuthProvider,signOut,setPersistence,browserLocalPersistence}from'firebase/auth';import PuzzleBoard from'./PuzzleBoard';import Leaderboard from'./Leaderboard';import AdBanner from'./AdBanner';import MultiplayerLobby from'./MultiplayerLobby';import MultiplayerGame from'./MultiplayerGame';import styles from'./App.module.scss';// Version: 1.0.1 - Fixed mobile sign-in\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[difficulty,setDifficulty]=useState('easy');const[layout,setLayout]=useState('grid');const[score,setScore]=useState(0);const[timer,setTimer]=useState(0);const[gameMode,setGameMode]=useState('menu');const[currentRoomId,setCurrentRoomId]=useState(null);const[authLoading,setAuthLoading]=useState(true);useEffect(()=>{let unsubscribe=null;// Set auth persistence and handle redirect result FIRST\nconst initAuth=async()=>{try{// Set persistence\nawait setPersistence(auth,browserLocalPersistence);console.log('üîê Auth persistence set to LOCAL');// Check for redirect result (only exists after Google redirect on mobile)\nconst result=await getRedirectResult(auth);if(result!==null&&result!==void 0&&result.user){console.log('‚úÖ Redirect sign-in successful:',result.user.displayName,result.user.email);setUser(result.user);}else{console.log('‚ÑπÔ∏è No redirect result - checking current auth state');}}catch(error){console.error('‚ùå Error in redirect handling:',error);if(error.code!=='auth/popup-closed-by-user'){alert(\"Sign in error: \".concat(error.message));}}finally{setAuthLoading(false);}};// Initialize auth\ninitAuth();// Set up auth state listener AFTER redirect check\nunsubscribe=onAuthStateChanged(auth,currentUser=>{console.log('üë§ Auth state changed:',(currentUser===null||currentUser===void 0?void 0:currentUser.displayName)||'No user',(currentUser===null||currentUser===void 0?void 0:currentUser.email)||'');setUser(currentUser);setAuthLoading(false);});return()=>{if(typeof unsubscribe==='function'){unsubscribe();}};},[]);const signInWithGoogle=async()=>{const provider=new GoogleAuthProvider();// Force account selection\nprovider.setCustomParameters({prompt:'select_account'});try{// Detect if mobile device\nconst isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);console.log('üîê Sign in initiated, isMobile:',isMobile);// Set persistence before sign-in\nawait setPersistence(auth,browserLocalPersistence);if(isMobile){// Use redirect for mobile devices (works better on iOS)\nconsole.log('üì± Using signInWithRedirect for mobile');await signInWithRedirect(auth,provider);}else{// Use popup for desktop\nconsole.log('üíª Using signInWithPopup for desktop');await signInWithPopup(auth,provider);}}catch(error){console.error('‚ùå Error signing in with Google:',error);alert(\"Sign in failed: \".concat(error.message||'Please try again'));}};const handleSignOut=async()=>{try{await signOut(auth);}catch(error){console.error('Error signing out:',error);}};const handleScoreUpdate=(newScore,newTimer)=>{setScore(newScore);setTimer(newTimer);};const handleJoinRoom=(roomId,roomDifficulty)=>{setCurrentRoomId(roomId);setDifficulty(roomDifficulty);setGameMode('multiplayer-game');};const handleLeaveRoom=()=>{setCurrentRoomId(null);setGameMode('multiplayer-lobby');};// Show loading while checking auth state\nif(authLoading){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.menuContainer,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.mainTitle,children:\"\\uD83E\\uDDE9 CrazyPuzzle\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})]})});}// Menu view\nif(gameMode==='menu'){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.menuContainer,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.mainTitle,children:\"\\uD83E\\uDDE9 CrazyPuzzle\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.subtitle,children:\"Test your memory and compete with friends!\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.authSection,children:user?/*#__PURE__*/_jsxs(\"div\",{className:styles.userWelcome,children:[/*#__PURE__*/_jsx(\"img\",{src:user.photoURL||'',alt:\"Avatar\",className:styles.userAvatar}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user.displayName,\"!\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:styles.signOutBtn,children:\"Sign Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:styles.guestInfo,children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83C\\uDFAE Play as guest or sign in for more features\"}),/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,className:styles.signInBtn,children:\"Sign in with Google\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.modeSelection,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setGameMode('singleplayer'),className:styles.modeBtn,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.modeIcon,children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeTitle,children:\"Single Player\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeDesc,children:\"Play solo and beat your best time\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{if(!user){alert('Please sign in to play multiplayer!');return;}setGameMode('multiplayer-lobby');},className:styles.modeBtn,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.modeIcon,children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeTitle,children:\"Multiplayer\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeDesc,children:\"Compete with friends in real-time\"}),!user&&/*#__PURE__*/_jsx(\"span\",{className:styles.requiresAuth,children:\"Requires sign in\"})]})]})]})});}// Multiplayer lobby\nif(gameMode==='multiplayer-lobby'&&user){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsx(MultiplayerLobby,{user:user,onJoinRoom:handleJoinRoom,onBackToSinglePlayer:()=>setGameMode('menu')})});}// Multiplayer game\nif(gameMode==='multiplayer-game'&&user&&currentRoomId){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsx(MultiplayerGame,{roomId:currentRoomId,user:user,difficulty:difficulty,onLeaveRoom:handleLeaveRoom})});}// Single player mode\nreturn/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.appHeaderContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.headerRow,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.appTitle,children:\"\\uD83E\\uDDE9 CrazyPuzzle\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setGameMode('menu'),className:styles.menuBtn,children:\"\\u2190 Back to Menu\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.controlsRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.cardTitle,children:\"Game Settings\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Difficulty:\"}),/*#__PURE__*/_jsxs(\"select\",{value:difficulty,onChange:e=>setDifficulty(e.target.value),className:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"easy\",children:\"Easy (4x4)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium (6x6)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hard\",children:\"Hard (8x8)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Layout:\"}),/*#__PURE__*/_jsxs(\"select\",{value:layout,onChange:e=>setLayout(e.target.value),className:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"grid\",children:\"Grid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"circle\",children:\"Circle\"}),/*#__PURE__*/_jsx(\"option\",{value:\"diamond\",children:\"Diamond\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.card,\" \").concat(styles.optionalCard),children:[/*#__PURE__*/_jsxs(\"h3\",{className:styles.cardTitle,children:[user?'Player Account':'Save Your Progress',/*#__PURE__*/_jsx(\"span\",{className:styles.optionalBadge,children:\"Optional\"})]}),user?/*#__PURE__*/_jsxs(\"div\",{className:styles.userInfo,children:[/*#__PURE__*/_jsx(\"img\",{src:user.photoURL||'',alt:\"Avatar\",className:styles.userAvatar}),/*#__PURE__*/_jsx(\"span\",{className:styles.userName,children:user.displayName}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"\".concat(styles.btn,\" \").concat(styles.logoutBtn),children:\"Sign Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:styles.guestModeText,children:[\"\\uD83C\\uDFAE You can play as a guest!\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"Sign in to save your high scores\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,className:\"\".concat(styles.btn,\" \").concat(styles.signInBtn),children:\"Sign in with Google\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreBox,children:[\"Score: \",score]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreBox,children:[\"Time: \",timer,\"s\"]}),!user&&/*#__PURE__*/_jsx(\"div\",{className:styles.scoreBox,style:{background:'#fff3cd',color:'#856404'},children:\"Guest Mode - Sign in to save scores\"})]}),/*#__PURE__*/_jsx(AdBanner,{}),/*#__PURE__*/_jsx(PuzzleBoard,{difficulty:difficulty,layout:layout,user:user,onScore:handleScoreUpdate}),/*#__PURE__*/_jsx(Leaderboard,{difficulty:difficulty,layout:layout,score:score,timer:timer})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","auth","onAuthStateChanged","signInWithPopup","signInWithRedirect","getRedirectResult","GoogleAuthProvider","signOut","setPersistence","browserLocalPersistence","PuzzleBoard","Leaderboard","AdBanner","MultiplayerLobby","MultiplayerGame","styles","jsx","_jsx","jsxs","_jsxs","App","user","setUser","difficulty","setDifficulty","layout","setLayout","score","setScore","timer","setTimer","gameMode","setGameMode","currentRoomId","setCurrentRoomId","authLoading","setAuthLoading","unsubscribe","initAuth","console","log","result","displayName","email","error","code","alert","concat","message","currentUser","signInWithGoogle","provider","setCustomParameters","prompt","isMobile","test","navigator","userAgent","handleSignOut","handleScoreUpdate","newScore","newTimer","handleJoinRoom","roomId","roomDifficulty","handleLeaveRoom","className","appBg","children","menuContainer","mainTitle","subtitle","authSection","userWelcome","src","photoURL","alt","userAvatar","onClick","signOutBtn","guestInfo","signInBtn","modeSelection","modeBtn","modeIcon","modeTitle","modeDesc","requiresAuth","onJoinRoom","onBackToSinglePlayer","onLeaveRoom","appHeaderContainer","headerRow","appTitle","menuBtn","controlsRow","card","cardTitle","style","marginBottom","value","onChange","e","target","select","optionalCard","optionalBadge","userInfo","userName","btn","logoutBtn","guestModeText","scoreRow","scoreBox","background","color","onScore"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { User } from 'firebase/auth';\nimport { auth } from './firebase';\nimport { onAuthStateChanged, signInWithPopup, signInWithRedirect, getRedirectResult, GoogleAuthProvider, signOut, setPersistence, browserLocalPersistence } from 'firebase/auth';\nimport PuzzleBoard from './PuzzleBoard';\nimport Leaderboard from './Leaderboard';\nimport AdBanner from './AdBanner';\nimport MultiplayerLobby from './MultiplayerLobby';\nimport MultiplayerGame from './MultiplayerGame';\nimport styles from './App.module.scss';\n\n// Version: 1.0.1 - Fixed mobile sign-in\n\ntype GameMode = 'menu' | 'singleplayer' | 'multiplayer-lobby' | 'multiplayer-game';\n\nfunction App() {\n  const [user, setUser] = useState<User | null>(null);\n  const [difficulty, setDifficulty] = useState<'easy' | 'medium' | 'hard'>('easy');\n  const [layout, setLayout] = useState<string>('grid');\n  const [score, setScore] = useState(0);\n  const [timer, setTimer] = useState(0);\n  const [gameMode, setGameMode] = useState<GameMode>('menu');\n  const [currentRoomId, setCurrentRoomId] = useState<string | null>(null);\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    let unsubscribe: any = null;\n\n    // Set auth persistence and handle redirect result FIRST\n    const initAuth = async () => {\n      try {\n        // Set persistence\n        await setPersistence(auth, browserLocalPersistence);\n        console.log('üîê Auth persistence set to LOCAL');\n        \n        // Check for redirect result (only exists after Google redirect on mobile)\n        const result = await getRedirectResult(auth);\n        if (result?.user) {\n          console.log('‚úÖ Redirect sign-in successful:', result.user.displayName, result.user.email);\n          setUser(result.user);\n        } else {\n          console.log('‚ÑπÔ∏è No redirect result - checking current auth state');\n        }\n      } catch (error: any) {\n        console.error('‚ùå Error in redirect handling:', error);\n        if (error.code !== 'auth/popup-closed-by-user') {\n          alert(`Sign in error: ${error.message}`);\n        }\n      } finally {\n        setAuthLoading(false);\n      }\n    };\n\n    // Initialize auth\n    initAuth();\n\n    // Set up auth state listener AFTER redirect check\n    unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      console.log('üë§ Auth state changed:', currentUser?.displayName || 'No user', currentUser?.email || '');\n      setUser(currentUser);\n      setAuthLoading(false);\n    });\n\n    return () => {\n      if (typeof unsubscribe === 'function') {\n        unsubscribe();\n      }\n    };\n  }, []);\n\n  const signInWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    // Force account selection\n    provider.setCustomParameters({\n      prompt: 'select_account'\n    });\n    \n    try {\n      // Detect if mobile device\n      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n      \n      console.log('üîê Sign in initiated, isMobile:', isMobile);\n      \n      // Set persistence before sign-in\n      await setPersistence(auth, browserLocalPersistence);\n      \n      if (isMobile) {\n        // Use redirect for mobile devices (works better on iOS)\n        console.log('üì± Using signInWithRedirect for mobile');\n        await signInWithRedirect(auth, provider);\n      } else {\n        // Use popup for desktop\n        console.log('üíª Using signInWithPopup for desktop');\n        await signInWithPopup(auth, provider);\n      }\n    } catch (error: any) {\n      console.error('‚ùå Error signing in with Google:', error);\n      alert(`Sign in failed: ${error.message || 'Please try again'}`);\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await signOut(auth);\n    } catch (error) {\n      console.error('Error signing out:', error);\n    }\n  };\n\n  const handleScoreUpdate = (newScore: number, newTimer: number) => {\n    setScore(newScore);\n    setTimer(newTimer);\n  };\n\n  const handleJoinRoom = (roomId: string, roomDifficulty: 'easy' | 'medium' | 'hard') => {\n    setCurrentRoomId(roomId);\n    setDifficulty(roomDifficulty);\n    setGameMode('multiplayer-game');\n  };\n\n  const handleLeaveRoom = () => {\n    setCurrentRoomId(null);\n    setGameMode('multiplayer-lobby');\n  };\n\n  // Show loading while checking auth state\n  if (authLoading) {\n    return (\n      <div className={styles.appBg}>\n        <div className={styles.menuContainer}>\n          <h1 className={styles.mainTitle}>üß© CrazyPuzzle</h1>\n          <p>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Menu view\n  if (gameMode === 'menu') {\n    return (\n      <div className={styles.appBg}>\n        <div className={styles.menuContainer}>\n          <h1 className={styles.mainTitle}>üß© CrazyPuzzle</h1>\n          <p className={styles.subtitle}>Test your memory and compete with friends!</p>\n          \n          <div className={styles.authSection}>\n            {user ? (\n              <div className={styles.userWelcome}>\n                <img src={user.photoURL || ''} alt=\"Avatar\" className={styles.userAvatar} />\n                <span>Welcome, {user.displayName}!</span>\n                <button onClick={handleSignOut} className={styles.signOutBtn}>Sign Out</button>\n              </div>\n            ) : (\n              <div className={styles.guestInfo}>\n                <p>üéÆ Play as guest or sign in for more features</p>\n                <button onClick={signInWithGoogle} className={styles.signInBtn}>\n                  Sign in with Google\n                </button>\n              </div>\n            )}\n          </div>\n\n          <div className={styles.modeSelection}>\n            <button \n              onClick={() => setGameMode('singleplayer')} \n              className={styles.modeBtn}\n            >\n              <span className={styles.modeIcon}>üéØ</span>\n              <span className={styles.modeTitle}>Single Player</span>\n              <span className={styles.modeDesc}>Play solo and beat your best time</span>\n            </button>\n\n            <button \n              onClick={() => {\n                if (!user) {\n                  alert('Please sign in to play multiplayer!');\n                  return;\n                }\n                setGameMode('multiplayer-lobby');\n              }} \n              className={styles.modeBtn}\n            >\n              <span className={styles.modeIcon}>üë•</span>\n              <span className={styles.modeTitle}>Multiplayer</span>\n              <span className={styles.modeDesc}>Compete with friends in real-time</span>\n              {!user && <span className={styles.requiresAuth}>Requires sign in</span>}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Multiplayer lobby\n  if (gameMode === 'multiplayer-lobby' && user) {\n    return (\n      <div className={styles.appBg}>\n        <MultiplayerLobby \n          user={user}\n          onJoinRoom={handleJoinRoom}\n          onBackToSinglePlayer={() => setGameMode('menu')}\n        />\n      </div>\n    );\n  }\n\n  // Multiplayer game\n  if (gameMode === 'multiplayer-game' && user && currentRoomId) {\n    return (\n      <div className={styles.appBg}>\n        <MultiplayerGame \n          roomId={currentRoomId}\n          user={user}\n          difficulty={difficulty}\n          onLeaveRoom={handleLeaveRoom}\n        />\n      </div>\n    );\n  }\n\n  // Single player mode\n  return (\n    <div className={styles.appBg}>\n      <div className={styles.appHeaderContainer}>\n        <div className={styles.headerRow}>\n          <h1 className={styles.appTitle}>üß© CrazyPuzzle</h1>\n          <button onClick={() => setGameMode('menu')} className={styles.menuBtn}>\n            ‚Üê Back to Menu\n          </button>\n        </div>\n        \n        <div className={styles.controlsRow}>\n          {/* Move authentication to a smaller, optional section */}\n          <div className={styles.card}>\n            <h3 className={styles.cardTitle}>Game Settings</h3>\n            <div style={{ marginBottom: '15px' }}>\n              <label>Difficulty:</label>\n              <select \n                value={difficulty} \n                onChange={(e) => setDifficulty(e.target.value as 'easy' | 'medium' | 'hard')}\n                className={styles.select}\n              >\n                <option value=\"easy\">Easy (4x4)</option>\n                <option value=\"medium\">Medium (6x6)</option>\n                <option value=\"hard\">Hard (8x8)</option>\n              </select>\n            </div>\n            <div>\n              <label>Layout:</label>\n              <select \n                value={layout} \n                onChange={(e) => setLayout(e.target.value)}\n                className={styles.select}\n              >\n                <option value=\"grid\">Grid</option>\n                <option value=\"circle\">Circle</option>\n                <option value=\"diamond\">Diamond</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Optional login section - smaller and less prominent */}\n          <div className={`${styles.card} ${styles.optionalCard}`}>\n            <h3 className={styles.cardTitle}>\n              {user ? 'Player Account' : 'Save Your Progress'} \n              <span className={styles.optionalBadge}>Optional</span>\n            </h3>\n            {user ? (\n              <div className={styles.userInfo}>\n                <img src={user.photoURL || ''} alt=\"Avatar\" className={styles.userAvatar} />\n                <span className={styles.userName}>{user.displayName}</span>\n                <button onClick={handleSignOut} className={`${styles.btn} ${styles.logoutBtn}`}>\n                  Sign Out\n                </button>\n              </div>\n            ) : (\n              <div>\n                <p className={styles.guestModeText}>\n                  üéÆ You can play as a guest! \n                  <br />\n                  <small>Sign in to save your high scores</small>\n                </p>\n                <button onClick={signInWithGoogle} className={`${styles.btn} ${styles.signInBtn}`}>\n                  Sign in with Google\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className={styles.scoreRow}>\n          <div className={styles.scoreBox}>Score: {score}</div>\n          <div className={styles.scoreBox}>Time: {timer}s</div>\n          {!user && (\n            <div className={styles.scoreBox} style={{ background: '#fff3cd', color: '#856404' }}>\n              Guest Mode - Sign in to save scores\n            </div>\n          )}\n        </div>\n\n        <AdBanner />\n\n        <PuzzleBoard \n          difficulty={difficulty} \n          layout={layout} \n          user={user}\n          onScore={handleScoreUpdate}\n        />\n\n        <Leaderboard difficulty={difficulty} layout={layout} score={score} timer={timer} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}