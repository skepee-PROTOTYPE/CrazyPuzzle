{"ast":null,"code":"// Facebook Audience Network Ad Integration\nimport{isFacebookInstantGame}from'./platform';class FacebookAdManager{constructor(){this.interstitialAd=null;this.rewardedAd=null;this.initialized=false;}async initialize(){if(!isFacebookInstantGame()){console.warn('Facebook Ads only available on Facebook Instant Games platform');return;}this.initialized=true;}async showInterstitialAd(){let placementId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'YOUR_PLACEMENT_ID';if(!isFacebookInstantGame()||!this.initialized){return false;}try{const FBInstant=window.FBInstant;// Load the ad\nthis.interstitialAd=await FBInstant.getInterstitialAdAsync(placementId);await this.interstitialAd.loadAsync();// Show the ad\nawait this.interstitialAd.showAsync();return true;}catch(error){console.error('Failed to show interstitial ad:',error);return false;}}async showRewardedVideo(){let placementId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'YOUR_REWARDED_PLACEMENT_ID';if(!isFacebookInstantGame()||!this.initialized){return false;}try{const FBInstant=window.FBInstant;// Load the rewarded video\nthis.rewardedAd=await FBInstant.getRewardedVideoAsync(placementId);await this.rewardedAd.loadAsync();// Show the rewarded video\nawait this.rewardedAd.showAsync();// Video was watched completely - grant reward\nreturn true;}catch(error){console.error('Failed to show rewarded video:',error);// User may have closed the video early\nreturn false;}}// Preload ads for better user experience\nasync preloadInterstitial(){let placementId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'YOUR_PLACEMENT_ID';if(!isFacebookInstantGame()||!this.initialized){return;}try{const FBInstant=window.FBInstant;this.interstitialAd=await FBInstant.getInterstitialAdAsync(placementId);await this.interstitialAd.loadAsync();}catch(error){console.error('Failed to preload interstitial ad:',error);}}async preloadRewardedVideo(){let placementId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'YOUR_REWARDED_PLACEMENT_ID';if(!isFacebookInstantGame()||!this.initialized){return;}try{const FBInstant=window.FBInstant;this.rewardedAd=await FBInstant.getRewardedVideoAsync(placementId);await this.rewardedAd.loadAsync();}catch(error){console.error('Failed to preload rewarded video:',error);}}}// Export singleton instance\nexport const facebookAds=new FacebookAdManager();","map":{"version":3,"names":["isFacebookInstantGame","FacebookAdManager","constructor","interstitialAd","rewardedAd","initialized","initialize","console","warn","showInterstitialAd","placementId","arguments","length","undefined","FBInstant","window","getInterstitialAdAsync","loadAsync","showAsync","error","showRewardedVideo","getRewardedVideoAsync","preloadInterstitial","preloadRewardedVideo","facebookAds"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/facebookAds.ts"],"sourcesContent":["// Facebook Audience Network Ad Integration\r\n\r\nimport { isFacebookInstantGame } from './platform';\r\n\r\nexport type AdPlacement = 'interstitial' | 'rewarded';\r\n\r\nclass FacebookAdManager {\r\n  private interstitialAd: any = null;\r\n  private rewardedAd: any = null;\r\n  private initialized = false;\r\n\r\n  async initialize(): Promise<void> {\r\n    if (!isFacebookInstantGame()) {\r\n      console.warn('Facebook Ads only available on Facebook Instant Games platform');\r\n      return;\r\n    }\r\n\r\n    this.initialized = true;\r\n  }\r\n\r\n  async showInterstitialAd(placementId: string = 'YOUR_PLACEMENT_ID'): Promise<boolean> {\r\n    if (!isFacebookInstantGame() || !this.initialized) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const FBInstant = window.FBInstant!;\r\n      \r\n      // Load the ad\r\n      this.interstitialAd = await FBInstant.getInterstitialAdAsync(placementId);\r\n      await this.interstitialAd.loadAsync();\r\n      \r\n      // Show the ad\r\n      await this.interstitialAd.showAsync();\r\n      \r\n      return true;\r\n    } catch (error) {\r\n      console.error('Failed to show interstitial ad:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async showRewardedVideo(placementId: string = 'YOUR_REWARDED_PLACEMENT_ID'): Promise<boolean> {\r\n    if (!isFacebookInstantGame() || !this.initialized) {\r\n      return false;\r\n    }\r\n\r\n    try {\r\n      const FBInstant = window.FBInstant!;\r\n      \r\n      // Load the rewarded video\r\n      this.rewardedAd = await FBInstant.getRewardedVideoAsync(placementId);\r\n      await this.rewardedAd.loadAsync();\r\n      \r\n      // Show the rewarded video\r\n      await this.rewardedAd.showAsync();\r\n      \r\n      // Video was watched completely - grant reward\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Failed to show rewarded video:', error);\r\n      // User may have closed the video early\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Preload ads for better user experience\r\n  async preloadInterstitial(placementId: string = 'YOUR_PLACEMENT_ID'): Promise<void> {\r\n    if (!isFacebookInstantGame() || !this.initialized) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const FBInstant = window.FBInstant!;\r\n      this.interstitialAd = await FBInstant.getInterstitialAdAsync(placementId);\r\n      await this.interstitialAd.loadAsync();\r\n    } catch (error) {\r\n      console.error('Failed to preload interstitial ad:', error);\r\n    }\r\n  }\r\n\r\n  async preloadRewardedVideo(placementId: string = 'YOUR_REWARDED_PLACEMENT_ID'): Promise<void> {\r\n    if (!isFacebookInstantGame() || !this.initialized) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const FBInstant = window.FBInstant!;\r\n      this.rewardedAd = await FBInstant.getRewardedVideoAsync(placementId);\r\n      await this.rewardedAd.loadAsync();\r\n    } catch (error) {\r\n      console.error('Failed to preload rewarded video:', error);\r\n    }\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const facebookAds = new FacebookAdManager();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}