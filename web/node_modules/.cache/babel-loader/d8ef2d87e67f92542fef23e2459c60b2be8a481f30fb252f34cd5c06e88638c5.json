{"ast":null,"code":"import React,{useEffect,useState}from'react';import{auth}from'./firebase';import{onAuthStateChanged,signInWithPopup,signInWithRedirect,getRedirectResult,GoogleAuthProvider,signOut}from'firebase/auth';import PuzzleBoard from'./PuzzleBoard';import Leaderboard from'./Leaderboard';import AdBanner from'./AdBanner';import MultiplayerLobby from'./MultiplayerLobby';import MultiplayerGame from'./MultiplayerGame';import styles from'./App.module.scss';// Version: 1.0.1 - Fixed mobile sign-in\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[difficulty,setDifficulty]=useState('easy');const[layout,setLayout]=useState('grid');const[score,setScore]=useState(0);const[timer,setTimer]=useState(0);const[gameMode,setGameMode]=useState('menu');const[currentRoomId,setCurrentRoomId]=useState(null);useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,currentUser=>{setUser(currentUser);});// Handle redirect result for mobile sign-in\ngetRedirectResult(auth).then(result=>{if(result!==null&&result!==void 0&&result.user){console.log('Redirect sign-in successful:',result.user.displayName);setUser(result.user);}}).catch(error=>{console.error('Error getting redirect result:',error);if(error.code!=='auth/popup-closed-by-user'){alert(\"Sign in error: \".concat(error.message));}});return()=>{if(typeof unsubscribe==='function'){unsubscribe();}};},[]);const signInWithGoogle=async()=>{const provider=new GoogleAuthProvider();try{// Detect if mobile device\nconst isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);console.log('Sign in initiated, isMobile:',isMobile);if(isMobile){// Use redirect for mobile devices (works better on iOS)\nconsole.log('Using signInWithRedirect for mobile');await signInWithRedirect(auth,provider);}else{// Use popup for desktop\nconsole.log('Using signInWithPopup for desktop');await signInWithPopup(auth,provider);}}catch(error){console.error('Error signing in with Google:',error);alert(\"Sign in failed: \".concat(error.message||'Please try again'));}};const handleSignOut=async()=>{try{await signOut(auth);}catch(error){console.error('Error signing out:',error);}};const handleScoreUpdate=(newScore,newTimer)=>{setScore(newScore);setTimer(newTimer);};const handleJoinRoom=(roomId,roomDifficulty)=>{setCurrentRoomId(roomId);setDifficulty(roomDifficulty);setGameMode('multiplayer-game');};const handleLeaveRoom=()=>{setCurrentRoomId(null);setGameMode('multiplayer-lobby');};// Menu view\nif(gameMode==='menu'){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.menuContainer,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.mainTitle,children:\"\\uD83E\\uDDE9 CrazyPuzzle\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.subtitle,children:\"Test your memory and compete with friends!\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.authSection,children:user?/*#__PURE__*/_jsxs(\"div\",{className:styles.userWelcome,children:[/*#__PURE__*/_jsx(\"img\",{src:user.photoURL||'',alt:\"Avatar\",className:styles.userAvatar}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user.displayName,\"!\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:styles.signOutBtn,children:\"Sign Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:styles.guestInfo,children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83C\\uDFAE Play as guest or sign in for more features\"}),/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,className:styles.signInBtn,children:\"Sign in with Google\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.modeSelection,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setGameMode('singleplayer'),className:styles.modeBtn,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.modeIcon,children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeTitle,children:\"Single Player\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeDesc,children:\"Play solo and beat your best time\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{if(!user){alert('Please sign in to play multiplayer!');return;}setGameMode('multiplayer-lobby');},className:styles.modeBtn,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.modeIcon,children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeTitle,children:\"Multiplayer\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.modeDesc,children:\"Compete with friends in real-time\"}),!user&&/*#__PURE__*/_jsx(\"span\",{className:styles.requiresAuth,children:\"Requires sign in\"})]})]})]})});}// Multiplayer lobby\nif(gameMode==='multiplayer-lobby'&&user){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsx(MultiplayerLobby,{user:user,onJoinRoom:handleJoinRoom,onBackToSinglePlayer:()=>setGameMode('menu')})});}// Multiplayer game\nif(gameMode==='multiplayer-game'&&user&&currentRoomId){return/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsx(MultiplayerGame,{roomId:currentRoomId,user:user,difficulty:difficulty,onLeaveRoom:handleLeaveRoom})});}// Single player mode\nreturn/*#__PURE__*/_jsx(\"div\",{className:styles.appBg,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.appHeaderContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.headerRow,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.appTitle,children:\"\\uD83E\\uDDE9 CrazyPuzzle\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setGameMode('menu'),className:styles.menuBtn,children:\"\\u2190 Back to Menu\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.controlsRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.card,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.cardTitle,children:\"Game Settings\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Difficulty:\"}),/*#__PURE__*/_jsxs(\"select\",{value:difficulty,onChange:e=>setDifficulty(e.target.value),className:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"easy\",children:\"Easy (4x4)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium (6x6)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hard\",children:\"Hard (8x8)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Layout:\"}),/*#__PURE__*/_jsxs(\"select\",{value:layout,onChange:e=>setLayout(e.target.value),className:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"grid\",children:\"Grid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"circle\",children:\"Circle\"}),/*#__PURE__*/_jsx(\"option\",{value:\"diamond\",children:\"Diamond\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.card,\" \").concat(styles.optionalCard),children:[/*#__PURE__*/_jsxs(\"h3\",{className:styles.cardTitle,children:[user?'Player Account':'Save Your Progress',/*#__PURE__*/_jsx(\"span\",{className:styles.optionalBadge,children:\"Optional\"})]}),user?/*#__PURE__*/_jsxs(\"div\",{className:styles.userInfo,children:[/*#__PURE__*/_jsx(\"img\",{src:user.photoURL||'',alt:\"Avatar\",className:styles.userAvatar}),/*#__PURE__*/_jsx(\"span\",{className:styles.userName,children:user.displayName}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"\".concat(styles.btn,\" \").concat(styles.logoutBtn),children:\"Sign Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:styles.guestModeText,children:[\"\\uD83C\\uDFAE You can play as a guest!\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"Sign in to save your high scores\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,className:\"\".concat(styles.btn,\" \").concat(styles.signInBtn),children:\"Sign in with Google\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreBox,children:[\"Score: \",score]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.scoreBox,children:[\"Time: \",timer,\"s\"]}),!user&&/*#__PURE__*/_jsx(\"div\",{className:styles.scoreBox,style:{background:'#fff3cd',color:'#856404'},children:\"Guest Mode - Sign in to save scores\"})]}),/*#__PURE__*/_jsx(AdBanner,{}),/*#__PURE__*/_jsx(PuzzleBoard,{difficulty:difficulty,layout:layout,user:user,onScore:handleScoreUpdate}),/*#__PURE__*/_jsx(Leaderboard,{difficulty:difficulty,layout:layout,score:score,timer:timer})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","auth","onAuthStateChanged","signInWithPopup","signInWithRedirect","getRedirectResult","GoogleAuthProvider","signOut","PuzzleBoard","Leaderboard","AdBanner","MultiplayerLobby","MultiplayerGame","styles","jsx","_jsx","jsxs","_jsxs","App","user","setUser","difficulty","setDifficulty","layout","setLayout","score","setScore","timer","setTimer","gameMode","setGameMode","currentRoomId","setCurrentRoomId","unsubscribe","currentUser","then","result","console","log","displayName","catch","error","code","alert","concat","message","signInWithGoogle","provider","isMobile","test","navigator","userAgent","handleSignOut","handleScoreUpdate","newScore","newTimer","handleJoinRoom","roomId","roomDifficulty","handleLeaveRoom","className","appBg","children","menuContainer","mainTitle","subtitle","authSection","userWelcome","src","photoURL","alt","userAvatar","onClick","signOutBtn","guestInfo","signInBtn","modeSelection","modeBtn","modeIcon","modeTitle","modeDesc","requiresAuth","onJoinRoom","onBackToSinglePlayer","onLeaveRoom","appHeaderContainer","headerRow","appTitle","menuBtn","controlsRow","card","cardTitle","style","marginBottom","value","onChange","e","target","select","optionalCard","optionalBadge","userInfo","userName","btn","logoutBtn","guestModeText","scoreRow","scoreBox","background","color","onScore"],"sources":["C:/Users/MARCE/source/repos/CrazyPuzzle/web/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { User } from 'firebase/auth';\nimport { auth } from './firebase';\nimport { onAuthStateChanged, signInWithPopup, signInWithRedirect, getRedirectResult, GoogleAuthProvider, signOut } from 'firebase/auth';\nimport PuzzleBoard from './PuzzleBoard';\nimport Leaderboard from './Leaderboard';\nimport AdBanner from './AdBanner';\nimport MultiplayerLobby from './MultiplayerLobby';\nimport MultiplayerGame from './MultiplayerGame';\nimport styles from './App.module.scss';\n\n// Version: 1.0.1 - Fixed mobile sign-in\n\ntype GameMode = 'menu' | 'singleplayer' | 'multiplayer-lobby' | 'multiplayer-game';\n\nfunction App() {\n  const [user, setUser] = useState<User | null>(null);\n  const [difficulty, setDifficulty] = useState<'easy' | 'medium' | 'hard'>('easy');\n  const [layout, setLayout] = useState<string>('grid');\n  const [score, setScore] = useState(0);\n  const [timer, setTimer] = useState(0);\n  const [gameMode, setGameMode] = useState<GameMode>('menu');\n  const [currentRoomId, setCurrentRoomId] = useState<string | null>(null);\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser);\n    });\n\n    // Handle redirect result for mobile sign-in\n    getRedirectResult(auth)\n      .then((result) => {\n        if (result?.user) {\n          console.log('Redirect sign-in successful:', result.user.displayName);\n          setUser(result.user);\n        }\n      })\n      .catch((error) => {\n        console.error('Error getting redirect result:', error);\n        if (error.code !== 'auth/popup-closed-by-user') {\n          alert(`Sign in error: ${error.message}`);\n        }\n      });\n\n    return () => {\n      if (typeof unsubscribe === 'function') {\n        unsubscribe();\n      }\n    };\n  }, []);\n\n  const signInWithGoogle = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      // Detect if mobile device\n      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n      \n      console.log('Sign in initiated, isMobile:', isMobile);\n      \n      if (isMobile) {\n        // Use redirect for mobile devices (works better on iOS)\n        console.log('Using signInWithRedirect for mobile');\n        await signInWithRedirect(auth, provider);\n      } else {\n        // Use popup for desktop\n        console.log('Using signInWithPopup for desktop');\n        await signInWithPopup(auth, provider);\n      }\n    } catch (error: any) {\n      console.error('Error signing in with Google:', error);\n      alert(`Sign in failed: ${error.message || 'Please try again'}`);\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await signOut(auth);\n    } catch (error) {\n      console.error('Error signing out:', error);\n    }\n  };\n\n  const handleScoreUpdate = (newScore: number, newTimer: number) => {\n    setScore(newScore);\n    setTimer(newTimer);\n  };\n\n  const handleJoinRoom = (roomId: string, roomDifficulty: 'easy' | 'medium' | 'hard') => {\n    setCurrentRoomId(roomId);\n    setDifficulty(roomDifficulty);\n    setGameMode('multiplayer-game');\n  };\n\n  const handleLeaveRoom = () => {\n    setCurrentRoomId(null);\n    setGameMode('multiplayer-lobby');\n  };\n\n  // Menu view\n  if (gameMode === 'menu') {\n    return (\n      <div className={styles.appBg}>\n        <div className={styles.menuContainer}>\n          <h1 className={styles.mainTitle}>üß© CrazyPuzzle</h1>\n          <p className={styles.subtitle}>Test your memory and compete with friends!</p>\n          \n          <div className={styles.authSection}>\n            {user ? (\n              <div className={styles.userWelcome}>\n                <img src={user.photoURL || ''} alt=\"Avatar\" className={styles.userAvatar} />\n                <span>Welcome, {user.displayName}!</span>\n                <button onClick={handleSignOut} className={styles.signOutBtn}>Sign Out</button>\n              </div>\n            ) : (\n              <div className={styles.guestInfo}>\n                <p>üéÆ Play as guest or sign in for more features</p>\n                <button onClick={signInWithGoogle} className={styles.signInBtn}>\n                  Sign in with Google\n                </button>\n              </div>\n            )}\n          </div>\n\n          <div className={styles.modeSelection}>\n            <button \n              onClick={() => setGameMode('singleplayer')} \n              className={styles.modeBtn}\n            >\n              <span className={styles.modeIcon}>üéØ</span>\n              <span className={styles.modeTitle}>Single Player</span>\n              <span className={styles.modeDesc}>Play solo and beat your best time</span>\n            </button>\n\n            <button \n              onClick={() => {\n                if (!user) {\n                  alert('Please sign in to play multiplayer!');\n                  return;\n                }\n                setGameMode('multiplayer-lobby');\n              }} \n              className={styles.modeBtn}\n            >\n              <span className={styles.modeIcon}>üë•</span>\n              <span className={styles.modeTitle}>Multiplayer</span>\n              <span className={styles.modeDesc}>Compete with friends in real-time</span>\n              {!user && <span className={styles.requiresAuth}>Requires sign in</span>}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Multiplayer lobby\n  if (gameMode === 'multiplayer-lobby' && user) {\n    return (\n      <div className={styles.appBg}>\n        <MultiplayerLobby \n          user={user}\n          onJoinRoom={handleJoinRoom}\n          onBackToSinglePlayer={() => setGameMode('menu')}\n        />\n      </div>\n    );\n  }\n\n  // Multiplayer game\n  if (gameMode === 'multiplayer-game' && user && currentRoomId) {\n    return (\n      <div className={styles.appBg}>\n        <MultiplayerGame \n          roomId={currentRoomId}\n          user={user}\n          difficulty={difficulty}\n          onLeaveRoom={handleLeaveRoom}\n        />\n      </div>\n    );\n  }\n\n  // Single player mode\n  return (\n    <div className={styles.appBg}>\n      <div className={styles.appHeaderContainer}>\n        <div className={styles.headerRow}>\n          <h1 className={styles.appTitle}>üß© CrazyPuzzle</h1>\n          <button onClick={() => setGameMode('menu')} className={styles.menuBtn}>\n            ‚Üê Back to Menu\n          </button>\n        </div>\n        \n        <div className={styles.controlsRow}>\n          {/* Move authentication to a smaller, optional section */}\n          <div className={styles.card}>\n            <h3 className={styles.cardTitle}>Game Settings</h3>\n            <div style={{ marginBottom: '15px' }}>\n              <label>Difficulty:</label>\n              <select \n                value={difficulty} \n                onChange={(e) => setDifficulty(e.target.value as 'easy' | 'medium' | 'hard')}\n                className={styles.select}\n              >\n                <option value=\"easy\">Easy (4x4)</option>\n                <option value=\"medium\">Medium (6x6)</option>\n                <option value=\"hard\">Hard (8x8)</option>\n              </select>\n            </div>\n            <div>\n              <label>Layout:</label>\n              <select \n                value={layout} \n                onChange={(e) => setLayout(e.target.value)}\n                className={styles.select}\n              >\n                <option value=\"grid\">Grid</option>\n                <option value=\"circle\">Circle</option>\n                <option value=\"diamond\">Diamond</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Optional login section - smaller and less prominent */}\n          <div className={`${styles.card} ${styles.optionalCard}`}>\n            <h3 className={styles.cardTitle}>\n              {user ? 'Player Account' : 'Save Your Progress'} \n              <span className={styles.optionalBadge}>Optional</span>\n            </h3>\n            {user ? (\n              <div className={styles.userInfo}>\n                <img src={user.photoURL || ''} alt=\"Avatar\" className={styles.userAvatar} />\n                <span className={styles.userName}>{user.displayName}</span>\n                <button onClick={handleSignOut} className={`${styles.btn} ${styles.logoutBtn}`}>\n                  Sign Out\n                </button>\n              </div>\n            ) : (\n              <div>\n                <p className={styles.guestModeText}>\n                  üéÆ You can play as a guest! \n                  <br />\n                  <small>Sign in to save your high scores</small>\n                </p>\n                <button onClick={signInWithGoogle} className={`${styles.btn} ${styles.signInBtn}`}>\n                  Sign in with Google\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className={styles.scoreRow}>\n          <div className={styles.scoreBox}>Score: {score}</div>\n          <div className={styles.scoreBox}>Time: {timer}s</div>\n          {!user && (\n            <div className={styles.scoreBox} style={{ background: '#fff3cd', color: '#856404' }}>\n              Guest Mode - Sign in to save scores\n            </div>\n          )}\n        </div>\n\n        <AdBanner />\n\n        <PuzzleBoard \n          difficulty={difficulty} \n          layout={layout} \n          user={user}\n          onScore={handleScoreUpdate}\n        />\n\n        <Leaderboard difficulty={difficulty} layout={layout} score={score} timer={timer} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}